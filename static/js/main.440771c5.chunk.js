(this.webpackJsonpmix=this.webpackJsonpmix||[]).push([[0],{118:function(e,t,n){},178:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),o=n(19),i=n.n(o),s=(n(178),n(138)),l=n(139),d=n(150),u=n(149),j=n(8),b=n(264),h=n(289),p=n(263),x=n(261),m=n(262),O=n(260);function f(e){var t=c.a.useState(!0),n=Object(j.a)(t,2),a=n[0],o=n[1],i=e.title,s=e.children,l=(e.buttons,function(){o(!1)});return Object(r.jsx)("div",{children:Object(r.jsxs)(h.a,{open:a,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(O.a,{id:"alert-dialog-title",children:i}),Object(r.jsx)(x.a,{children:Object(r.jsx)(m.a,{id:"alert-dialog-description",children:s})}),Object(r.jsxs)(p.a,{children:[Object(r.jsx)(b.a,{onClick:function(){window.location.reload()},color:"primary",autoFocus:!0,children:"Refresh Page"}),Object(r.jsx)(b.a,{onClick:l,color:"primary",children:"Close"})]})]})})}var g=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={error:null,errorInfo:null},r}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t}),console.error(e)}},{key:"render",value:function(){return this.state.errorInfo?Object(r.jsxs)(r.Fragment,{children:[this.props.children,Object(r.jsx)(f,{title:"Something went wrong",children:Object(r.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),Object(r.jsx)("br",{}),this.state.errorInfo.componentStack]})})]}):this.props.children}}]),n}(a.Component),v={apiKey:"AIzaSyBlguR0aN3CmozbwbH03T3WM_CNA6Gjiwc",authDomain:"is4261.firebaseapp.com",projectId:"is4261",storageBucket:"is4261.appspot.com",messagingSenderId:"808274074688",appId:"1:808274074688:web:5065d5ca0645b6e41293a5",measurementId:"G-S636RREEHZ"},y=c.a.createContext(),w=c.a.createContext(),S=c.a.createContext();function I(){return Object(a.useContext)(y)}function k(e){var t=e.children,c=Object(a.useState)(),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),d=Object(j.a)(l,1)[0];var u=n(182).default,b=Object(a.useMemo)((function(){if(0===u.apps.length)if(d){var e=u.initializeApp({databaseURL:"http://localhost:9000/?ns=is4261"}).database();s(e)}else{var t=u.initializeApp(v).database();s(t)}else u.app(),s(u.app().database())}),[i,v]);return 0===u.apps.length&&b(),Object(r.jsx)(S.Provider,{value:d,children:Object(r.jsx)(y.Provider,{value:i,children:Object(r.jsx)(w.Provider,{value:function(e){s(e)},children:t})})})}var C=n(18),T=n(25),N=n(83),D=A("Aug 9 2021 0:00 GMT+8").getTime();function E(){return G(new Date)}function G(e){return!e instanceof Date||D>e?0:Math.ceil((e-D)/6048e5)}function M(e){try{return null==e||null==e[0]?[]:e.map((function(e){if(void 0==e)return{};var t=e.startTime,n=e.endTime,r=e.eventName,a=e.eventType,c=e.studentId,o=void 0===c?"":c;return{id:"".concat(t,"-").concat(r,"-").concat(a,"-").concat(o,"-").concat(n),studentId:o,week:Math.floor((t-D)/6048e5)+1,title:r,type:a,startTime:String(A(t).getHours()).padStart(2,"0").concat(String(A(t).getMinutes()).padEnd(2,"0")),endTime:String(A(n).getHours()).padStart(2,"0").concat(String(A(n).getMinutes()).padEnd(2,"0")),day:A(t).toLocaleString("en-us",{weekday:"long"})}}))}catch(t){throw new Error(t)}}function A(e){return new Date(e)}function Y(e,t){e=parseInt(e)+t;var n=String(e).slice(-2);return parseInt(n)>=60&&(e=parseInt(e)-60+100+n%60),String(e).padStart(4,"0")}function R(e,t,n,r){var a=[],c=[];function o(e,t,n){return e>t&&e<n}for(;parseInt(e)<parseInt(t);){if(a.push(e),r){var i=r.filter((function(t){return n=e,r=t.startTime,n===r||o(e,t.startTime,t.endTime);var n,r}));c.push(i)}e=Y(e,n)}return null==r?a:r?c:void 0}var B=c.a.createContext();function U(){return Object(a.useContext)(B)}function F(e){var t=e.children,n=Object(a.useMemo)((function(){return E()>14?E():14}),[(new Date).getDay()]),c=Object(a.useState)(n),o=Object(j.a)(c,1)[0];return Object(r.jsx)(B.Provider,{value:o,children:t})}var P=c.a.createContext(),L=c.a.createContext(),z=c.a.createContext(),W=c.a.createContext();function H(){return Object(a.useContext)(P)}function J(){return Object(a.useContext)(W)}function q(e){var t=e.children,n=I(),c=localStorage.getItem("studentId"),o=Object(a.useState)(Object(a.useMemo)((function(){return E()}),[(new Date).getDay()])),i=Object(j.a)(o,2),s=i[0],l=i[1],d=U(),u=Object(a.useState)([]),b=Object(j.a)(u,2),h=b[0],p=b[1];return Object(a.useEffect)((function(){var e=n.ref("Students/".concat(c,"/events"));return null===e||void 0===e||e.on("value",(function(e){var t;p(null===e||void 0===e||null===(t=e.val)||void 0===t?void 0:t.call(e))}),(function(e){console.error(e)})),function(){e.off()}}),[c]),Object(r.jsx)(P.Provider,{value:h,children:Object(r.jsx)(L.Provider,{value:function(e){p(e)},children:Object(r.jsx)(z.Provider,{value:s,children:Object(r.jsx)(W.Provider,{value:function(e){e<=0&&l(1),l(e>=d?d:e)},children:t})})})})}var _=n(15),K=n(34),V=n(17),Q=n.n(V),$=n(31),Z=n(140),X=n.n(Z);function ee(e,t){if(null==e&&null==t)return!0;if(null==e)return!1;if(null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0,c=n;a<c.length;a++){var o=c[a];if(e[o]!==t[o])return!1}return!0}var te=function(){var e=Object($.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.nusmods.com/v2/2020-2021/modules/"+t+".json",e.next=3,X.a.get(n).then((function(e){return e.data}));case 3:return r=e.sent,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e,t,n){n.ref("Students/".concat(e,"/events")).set(t)},re=function(){var e=Object($.a)(Q.a.mark((function e(t,n,r){var a,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],c=r.ref("Groups/"),e.next=4,c.once("value").then((function(e){var t=e.val();for(var r in t){var c=t[r];null!==n&&void 0!==c&&void 0!==c.members&&Object.values(c.members).forEach((function(e){e==n&&a.push(c)}))}}));case 4:t(a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ae=function(){var e=Object($.a)(Q.a.mark((function e(t,n){var r,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.ref("Groups/"),e.next=3,r.once("value").then((function(e){var n=e.val();for(var r in n){var a=n[r];if(null!=localStorage.getItem("studentId")&&void 0!==a&&void 0!==a.members&&a.groupId==t)return a}}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object($.a)(Q.a.mark((function e(t,n){var r,a,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=9;break}return c=function(e,t){return e.map((function(e){return e.studentId?e:Object(_.a)(Object(_.a)({},e),{},{studentId:t})}))},r=n.ref("Students/".concat(t,"/events")),e.next=5,r.once("value").then((function(e){return e.val()}));case 5:if(null!==(a=e.sent)){e.next=8;break}return e.abrupt("return",[]);case 8:return e.abrupt("return",c(a,t));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object($.a)(Q.a.mark((function e(t,n,r){var a,c,o,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==n&&void 0!==n&&n.length>0,function(e){return null!==e&&void 0!==e&&e.length>0},!a){e.next=10;break}return e.next=5,Promise.all(n.map(function(){var e=Object($.a)(Q.a.mark((function e(t){var n,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},Array.isArray(t.members)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all(t.members.map(function(){var e=Object($.a)(Q.a.mark((function e(a){var c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[t.groupId]={},e.next=3,ce(a,r);case 3:return c=e.sent,n[t.groupId][a]=c,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:c=e.sent,o=c.map((function(e){if(Array.isArray(e))return e[0]})),i={},Object.values(o).forEach((function(e){e&&(i[Object.keys(e)[0]]=Object.values(e)[0])})),t(i);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ie=c.a.createContext(),se=c.a.createContext(),le=c.a.createContext(),de=c.a.createContext();function ue(){return Object(a.useContext)(ie)}function je(){return Object(a.useContext)(de)}function be(e){var t=e.children,n=localStorage.getItem("studentId"),c=I(),o=U(),i=Object(a.useMemo)((function(){return re(m,n,c)}),[n,c]),s=Object(a.useState)(Object(a.useMemo)((function(){return E()}),[(new Date).getDay()])),l=Object(j.a)(s,2),d=l[0],u=l[1],b=Object(a.useState)(i),h=Object(j.a)(b,2),p=h[0],x=h[1];function m(e){x(e)}return Object(a.useEffect)((function(){var e=c.ref("Groups/");return null===e||void 0===e||e.on("value",(function(e){var t;m((null===e||void 0===e||null===(t=e.val)||void 0===t?void 0:t.call(e)).filter((function(e){return void 0!==e.members&&(!!Array.isArray(e.members)&&e.members.find((function(e){return n==e})))})))}),(function(e){console.error(e)})),function(){e.off()}}),[n]),Object(r.jsx)(ie.Provider,{value:p,children:Object(r.jsx)(se.Provider,{value:m,children:Object(r.jsx)(le.Provider,{value:d,children:Object(r.jsx)(de.Provider,{value:function(e){e<=0&&u(1),u(e>=o?o:e)},children:t})})})})}var he=c.a.createContext(),pe=c.a.createContext();function xe(){return Object(a.useContext)(pe)}function me(e){var t=e.children,n=localStorage.getItem("studentId"),c=I(),o=ue(),i=(Object(a.useMemo)((function(){return oe(u,o,c)}),[o,c]),Object(a.useState)()),s=Object(j.a)(i,2),l=s[0],d=s[1];function u(e){d(e)}return Object(a.useEffect)((function(){if(Array.isArray(o)){var e={};o.forEach((function(t){e[t.groupId]={},e.length=o.length,t.members&&Array.isArray(t.members)&&(e[t.groupId].length=0,t.members.forEach((function(n){e[t.groupId][n]=null,e[t.groupId].length++})),"object"!==typeof l&&(d((function(t){return e}))))}))}}),[o,n]),Object(a.useEffect)((function(){Array.isArray(o)&&o.forEach((function(e){e.members&&Array.isArray(e.members)&&e.members.forEach((function(t){var n=c.ref("Students/".concat(t,"/events"));return null===n||void 0===n||n.on("value",(function(n){var r,a=o&&e.members&&l&&void 0!=l[e.groupId]&&l[e.groupId]!=[]&&null==l[e.groupId][t]&&(null===n||void 0===n||null===(r=n.val)||void 0===r?void 0:r.call(n))!=[]&&n!=[]&&void 0!=n;a&&a&&d((function(r){var a;return l[e.groupId][t]=(null===n||void 0===n||null===(a=n.val)||void 0===a?void 0:a.call(n))||[]}))}),(function(e){console.error(e)})),function(){n.off()}}))}))}),[o,n]),Object(r.jsx)(he.Provider,{value:l,children:Object(r.jsx)(pe.Provider,{value:u,children:t})})}var Oe=n(151),fe=n(267),ge=n(268),ve=n(153),ye=n(269),we=n(265),Se=n(69),Ie=n.n(Se),ke=n(89),Ce=n.n(ke),Te=n(54),Ne=n.n(Te),De=n(48),Ee=n.n(De),Ge=n(102),Me=n.n(Ge),Ae=n(283),Ye=n(88),Re=n.n(Ye),Be=n(57),Ue=n.n(Be),Fe=n(111),Pe=n.n(Fe),Le=n(38),ze=n.n(Le),We=n(101),He=n.n(We),Je=n(292),qe=n(10),_e=(n(59),n(141)),Ke=n(270),Ve=n(271),Qe=n(272),$e=n(273);n(118);qe.a.configure();var Ze=Object(we.a)({root:{margin:"2%",display:"inline"},paper:{backgroundColor:"#FFF"},media:{height:140},cardColumn:{padding:"10px"},boxDesign:{transition:"all 0.3s ease 0s","&:hover":{boxShadow:"0px 10px 15px #ff5942",transform:"translateY(-7px)"}}}),Xe="http://".concat(window.location.host,"/mix/#");var et=function(e){var t=Ze(),n=I(),c=Object(a.useState)(localStorage.getItem("studentId")),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(localStorage.getItem("studentName")),d=Object(j.a)(l,2),u=(d[0],d[1]),p=function(e){n.ref("Students/").child(localStorage.getItem("studentId")).child("name").set(e),Q(V+1),localStorage.setItem("studentName",e)},m=Object(a.useState)([]),f=Object(j.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(),w=Object(j.a)(y,2)[1],S=Object(a.useState)([]),k=Object(j.a)(S,2),N=k[0],D=k[1],E=function(){v([]);var e=[];n.ref("Groups/").once("value").then((function(t){var n=t.val();for(var r in n){var a=n[r];null!=localStorage.getItem("studentId")&&void 0!==a&&void 0!==a.members&&Object.values(a.members).forEach((function(t){t==localStorage.getItem("studentId")&&e.push(a)}))}v(e.reverse())}))},G=Object(a.useState)([]),M=Object(j.a)(G,2),A=M[0],Y=M[1],R=function(e){var t="";return A.forEach((function(n){parseInt(n.key)===parseInt(e)&&(t=n.val().name)})),t},B=Object(a.useState)(-1),U=Object(j.a)(B,2);U[0],U[1];var F=Object(a.useState)(),P=Object(j.a)(F,2),L=P[0],z=P[1],W=function(e,t){if(parseInt(t)==parseInt(localStorage.getItem("studentId"))){if(!window.confirm("Are you sure you want to leave the group? Leaving a group means all members will stay, but only you are removed.\n\nYou will not be able to view the group related information anymore."))return;(r=n.ref("Groups/".concat(e,"/members/"))).once("value").then((function(e){e.forEach((function(e){e.val()==t&&r.child(e.key).remove()}))}))}else{var r;if(!window.confirm("Are you sure you want to remove ".concat(R(t)," (#").concat(t,") from the group?\n\nThe member will no longer be able to see the group related information.")))return;(r=n.ref("Groups/".concat(e,"/members/"))).once("value").then((function(e){e.forEach((function(e){e.val()==t&&r.child(e.key).remove()}))}))}parseInt(t)==parseInt(localStorage.getItem("studentId"))?qe.a.success("You have left group"+e+" successfully."):qe.a.success("Member ID: "+t+" has been removed from Group ID: "+e+" successfully."),Q(V+1)},H=function(e){D([]);for(var t=[],n=0;n<g.length;n++)if(g[n].groupId===e)for(var r=g[n].members,a=0;a<r.length;a++)void 0!==r[a]&&t.push(r[a]);D(t)},J=Object(a.useState)(0),q=Object(j.a)(J,2),V=q[0],Q=q[1];Object(a.useEffect)((function(){(Q(0),null==localStorage.getItem("studentId"))?function(e){n.ref("Students/").orderByKey().once("value").then((function(t){t.forEach((function(e){var t=e.key;s(parseInt(t)+1),localStorage.setItem("studentId",parseInt(t)+1)})),p(e)}))}(prompt("Hi! Seems like this is the first time you visited MixTime. \nPlease enter your name and we'll tag it into your timetable.")):(localStorage.getItem("studentId"),n.ref("Students/".concat(localStorage.getItem("studentId"),"/name")).once("value").then((function(e){u(e.val())})),E(),Y([]),n.ref("Students/").once("value").then((function(e){Y(e)})),H())}),[V]);var $=Object(a.useState)(""),Z=Object(j.a)($,2),X=Z[0],ee=Z[1],te=Object(a.useState)([]),ne=Object(j.a)(te,2),re=ne[0],ae=ne[1],ce=Object(a.useState)(),oe=Object(j.a)(ce,2),ie=oe[0],se=oe[1];Object(a.useEffect)((function(){for(var e=[],t=0;t<re.length;t++)e.push({disable:!0,groupId:re[t].groupId,val:re[t].groupName,readOnly:!0,allowUndo:!1});se(e)}),[g,re]),Object(a.useEffect)((function(){ae(g.filter((function(e){return e.groupName.toLowerCase().includes(X.toLowerCase())})))}),[X,g]);var le=Object(a.useState)(),de=Object(j.a)(le,2),ue=de[0],je=de[1];function be(e){var t=e.target.value,n=Object(K.a)(ie);n[ue]=Object(_.a)(Object(_.a)({},n[ue]),{},{disable:!1,val:t,allowUndo:!1}),se(n)}function he(e){var t=Object(K.a)(ie);t[e]=Object(_.a)(Object(_.a)({},t[e]),{},{disable:!1,readOnly:!1,allowUndo:!1}),se(t),je(e),localStorage.setItem("originalGroupName",t[e].val)}function pe(e){var t=Object(K.a)(ie);t[e]=Object(_.a)(Object(_.a)({},t[e]),{},{disable:!0,readOnly:!0,allowUndo:!0}),se(t),ie[e].val!==localStorage.getItem("originalGroupName")&&qe.a.success("Group name has been updated successfully.")}function xe(e){Q(1);var t=Object(K.a)(ie);t[e]=Object(_.a)(Object(_.a)({},t[e]),{},{disable:!0,readOnly:!0,allowUndo:!1,val:localStorage.getItem("originalGroupName")}),ie[e].val===localStorage.getItem("originalGroupName")?qe.a.success("Change cancelled."):qe.a.success("You have successfully undo changes on group rename."),localStorage.setItem("originalGroupName",null),se(t)}function me(e,t){if(t>1)qe.a.warning("You are not allowed to delete a group with members inside.");else if(1===t){window.confirm("Are you sure you want to delete the group?\nYou cannot undo this.")?(n.ref("Groups/").child(e).remove(),qe.a.success("You have successfully deleted the group."),Q(V+1)):qe.a.success("Deletion of group is cancelled.")}}var we=Object(a.useState)(!0),Se=Object(j.a)(we,2),ke=Se[0],Te=Se[1],De=Object(a.useState)([]),Ge=Object(j.a)(De,2),Ye=Ge[0],Be=Ge[1];function Fe(e){Ye.push(e),Be(Ye),console.log(Ye),n.ref("Students/").child(localStorage.getItem("studentId")).child("archivedGroups").set(Ye),Q(V+1),qe.a.success("You have successfully archived the group.")}Object(a.useEffect)((function(){n.ref("Students/".concat(localStorage.getItem("studentId"),"/archivedGroups")).once("value").then((function(e){null===e.val()?Be([]):Be(e.val())}))}),[]);var Le=Object(a.useState)(!1),We=Object(j.a)(Le,2),et=We[0],tt=We[1],nt=Object(a.useState)(-1),rt=Object(j.a)(nt,2),at=rt[0],ct=rt[1],ot=Object(a.useState)(""),it=Object(j.a)(ot,2),st=it[0],lt=it[1],dt=Object(a.useState)(!1),ut=Object(j.a)(dt,2),jt=(ut[0],ut[1]),bt=function(e,t){H(e),tt(!0),void 0!==e&&ct(e),void 0!==e&&lt(t)},ht=Object(T.g)(),pt=Object(a.useState)(!1),xt=Object(j.a)(pt,2),mt=(xt[0],xt[1],Object(a.useState)(!1)),Ot=Object(j.a)(mt,2),ft=Ot[0],gt=Ot[1];return Object(r.jsxs)(Oe.a,{className:t.paper,square:!0,children:[Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",wigth:"100%",padding:"2%"},children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{float:"left"},children:["You are currently enrolled in"," ",void 0!==g&&void 0!==g.length?g.length:0," ","groups."]}),Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{style:{float:"right"},children:[Object(r.jsxs)("label",{style:{float:"right"},children:["Filter Groups: \xa0 \xa0",Object(r.jsx)("input",{type:"text",placeholder:"Enter search term",style:{padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid #da337a",boxShadow:"0px 0px 8px #da337a",backgroundColor:"initial !important"},value:X,onChange:function(e){return ee(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"Click here to view archived groups"}),children:Object(r.jsxs)(b.a,{style:{boxShadow:"5px 5px 5px 0px grey",width:"fit-content"},variant:"contained",color:"primary",onClick:function(){ht.push("ViewArchivedGroups")},children:[Object(r.jsx)(Pe.a,{})," \xa0 View Archived Groups"]})}),"\xa0 \xa0",Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"Click here to minimize or expand all your groups"}),children:Object(r.jsxs)(b.a,{style:{boxShadow:"5px 5px 5px 0 #bbb",width:"fit-content"},variant:"contained",color:"primary",onClick:function(){return Te(!ke)},children:[ke?Object(r.jsx)(He.a,{}):Object(r.jsx)(ze.a,{}),ke?"Minimize All Groups":"Expand All Groups"]})})]})]}),Object(r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",margin:"3% 2% 0% 15%"},children:[Object(r.jsxs)("div",{style:{marginTop:"1%",minWidth:310,maxWidth:310,minHeight:280,maxHeight:280},children:[Object(r.jsx)(Ae.a,{boxShadow:6,style:{margin:"0% 3%",minHeight:220,width:300,maxHeight:220},className:t.boxDesign,children:Object(r.jsx)(fe.a,{className:t.root,children:Object(r.jsxs)("div",{className:"cardRow",children:[Object(r.jsx)(ge.a,{className:t.cardColumn,children:Object(r.jsx)("div",{style:{margin:"auto",textAlign:"center",fontSize:"x-large"},children:Object(r.jsxs)(C.b,{style:{width:"fit-content"},onClick:function(){var e=prompt("Enter group name");null!=e?n.ref("Groups/").orderByKey().once("value").then((function(t){t.forEach((function(e){var t=e.key;localStorage.setItem("groupId",parseInt(t)+1),w(parseInt(t)+1)})),N.push(parseInt(i));var r=n.ref("Groups/".concat(localStorage.getItem("groupId")));r.child("groupId").set(parseInt(localStorage.getItem("groupId"))),r.child("groupName").set(e),D(N),r.child("members").set(N),qe.a.success("Group name: "+e+" has been created successfully."),Q(V+1)})):qe.a.success("The creation of group has been cancelled.")},children:[Object(r.jsx)(Me.a,{style:{width:"200px",height:"100px"}}),Object(r.jsx)("br",{}),Object(r.jsx)("h3",{style:{fontWeight:"bold"},children:"Create New Group"})]})})}),Object(r.jsx)(ye.a,{})]})})}),Object(r.jsx)(Ae.a,{boxShadow:6,style:{margin:"0% 3%",marginTop:10,minHeight:50,width:300,maxHeight:50},className:t.boxDesign,children:Object(r.jsx)("div",{style:{margin:"auto",textAlign:"center"},children:Object(r.jsx)(C.b,{style:{width:"fit-content",fontSize:"x-large"},to:"/JoinGroup",children:Object(r.jsx)("h3",{style:{paddingTop:11,fontWeight:"bold"},children:"Join A Group"})})})})]}),void 0!==ie&&void 0!==re&&ie.length===re.length?Object(r.jsx)("div",{style:{display:"contents"},children:re.map((function(e,a){return Object(r.jsx)("div",{style:{padding:"0.5% 0.5%"},children:void 0===Ye||null===Ye||Ye.includes(e.groupId)?Object(r.jsx)("div",{children:void 0!==Ye||null!==Ye||Ye.includes(e.groupId)?Object(r.jsx)("div",{}):Object(r.jsxs)(fe.a,{className:t.root,style:{width:"100%",display:"table"},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"Click here to archive the group"}),children:Object(r.jsx)(C.b,{onClick:function(){Fe(e.groupId)},style:{position:"absolute"},children:Object(r.jsx)(Pe.a,{})})}),Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{className:"cardRow",children:[Object(r.jsxs)(ge.a,{className:t.cardColumn,children:[Object(r.jsxs)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{backgroundColor:"#80808026",padding:"2%",overflow:"auto",minWidth:"250px !important"},children:["#",ie[a].groupId," -"," ",Object(r.jsx)("input",{type:"text",disabled:ie[a].disable,value:ie[a].val,onChange:be,readOnly:ie[a].readOnly,size:ie[a].val.length-2,style:!1===ie[a].readOnly?{padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid #da337a",boxShadow:"0px 0px 8px #da337a",backgroundColor:"initial !important"}:{width:"50%",backgroundColor:"initial"}}),!0===ie[a].readOnly?Object(r.jsx)(C.b,{onClick:function(){he(a)},children:Object(r.jsx)("span",{style:{color:"black",float:"right"},children:Object(r.jsx)(Ne.a,{})})}):Object(r.jsx)(C.b,{onClick:function(){pe(a)},children:Object(r.jsx)("span",{style:{color:"black",float:"right"},children:Object(r.jsx)(Ee.a,{})})}),!0===ie[a].allowUndo&&localStorage.getItem("originalGroupName")!==ie[a].val?Object(r.jsx)("span",{style:{float:"right"},children:Object(r.jsx)(C.b,{onClick:function(){xe(a)},children:Object(r.jsx)(Re.a,{})})}):Object(r.jsx)("span",{})]}),ke&&Object(r.jsxs)("div",{children:["Other Members:",Object.values(e.members).map((function(t,n){return Object(r.jsx)("div",{children:t!=localStorage.getItem("studentId")?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{float:"left"},children:[Object(r.jsx)(Ie.a,{})," #",t+", "+R(t)]}),"      ",Object(r.jsx)("div",{style:{float:"right"},children:Object(r.jsx)(C.b,{style:{width:"fit-content",float:"right",display:"inline",color:"#DC3545"},onClick:function(){return W(e.groupId,t)},children:Object(r.jsx)("abbr",{title:"Remove member",children:Object(r.jsx)(Ce.a,{})})})}),Object(r.jsx)("div",{style:{clear:"both"}})]}):Object(r.jsx)("div",{})})}))]})]}),ke&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ye.a,{style:{float:"left"},children:Object(r.jsx)(b.a,{variant:"contained",color:"secondary",style:e.members.length>1?{float:"left",minWidth:"20px",backgroundColor:"green",opacity:"0.4"}:{float:"left",minWidth:"20px",backgroundColor:"green",opacity:"1",boxShadow:"5px 5px 5px 0 #bbb"},onClick:function(){return me(e.groupId,e.members.length)},disabled:e.members.length>1,children:Object(r.jsx)(Ue.a,{})})}),Object(r.jsxs)(ye.a,{style:{float:"right"},children:[Object(r.jsx)(b.a,{variant:"contained",style:{boxShadow:"5px 5px 5px 0 #bbb",backgroundColor:"#DC3545",color:"white"},onClick:function(){return W(e.groupId,localStorage.getItem("studentId"))},children:"Leave Group"}),Object(r.jsx)(b.a,{variant:"contained",color:"primary",style:{boxShadow:"5px 5px 5px 0 #bbb"},onClick:function(){bt(e.groupId,e.groupName)},children:"Add Member"})]})]})]})]})]}),Object(r.jsx)("div",{})]})}):Object(r.jsxs)(fe.a,{className:t.root,style:{width:"100%",display:"table"},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"Click here to archive the group"}),children:Object(r.jsx)(C.b,{onClick:function(){Fe(e.groupId)},style:{position:"absolute",borderRadius:"10px",boxShadow:"grey 2px 2px 5px"},children:Object(r.jsx)(Pe.a,{})})}),Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{className:"cardRow",children:[Object(r.jsxs)(ge.a,{className:t.cardColumn,children:[Object(r.jsxs)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{backgroundColor:"#80808026",padding:"2%",overflow:"auto",minWidth:"250px !important"},children:["#",ie[a].groupId," -"," ",Object(r.jsx)("input",{type:"text",disabled:ie[a].disable,value:ie[a].val,onChange:be,onKeyDown:function(e){try{"Escape"===e.code&&xe(a)}catch(t){}},readOnly:ie[a].readOnly,size:ie[a].val.length-2,style:!1===ie[a].readOnly?{padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid #da337a",boxShadow:"0px 0px 8px #da337a",backgroundColor:"initial !important"}:{width:"50%",backgroundColor:"initial"}}),!0===ie[a].readOnly?Object(r.jsx)(C.b,{onClick:function(){he(a)},children:Object(r.jsx)("span",{style:{color:"black",float:"right"},children:Object(r.jsx)(Ne.a,{})})}):Object(r.jsx)(C.b,{onClick:function(){pe(a)},children:Object(r.jsx)("span",{style:{color:"black",float:"right"},children:Object(r.jsx)(Ee.a,{})})}),!0===ie[a].allowUndo&&localStorage.getItem("originalGroupName")!==ie[a].val?Object(r.jsx)("span",{style:{float:"right"},children:Object(r.jsx)(C.b,{onClick:function(){xe(a)},class:"undo_rename_glow",children:Object(r.jsx)(Re.a,{})})}):Object(r.jsx)("span",{})]}),ke&&Object(r.jsxs)("div",{children:["Other Members:",Object.values(e.members).map((function(t,n){return Object(r.jsx)("div",{children:t!=localStorage.getItem("studentId")?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{float:"left"},children:[Object(r.jsx)(Ie.a,{})," #",t+", "+R(t)]}),"      ",Object(r.jsx)("div",{style:{float:"right"},children:Object(r.jsx)(C.b,{style:{width:"fit-content",float:"right",display:"inline",color:"#DC3545"},onClick:function(){return W(e.groupId,t)},children:Object(r.jsx)("abbr",{title:"Remove member",children:Object(r.jsx)(Ce.a,{})})})}),Object(r.jsx)("div",{style:{clear:"both"}})]}):Object(r.jsx)("div",{})})})),e.members.length>2?Object(r.jsx)(b.a,{variant:"contained",style:{boxShadow:"5px 5px 5px 0 #bbb",backgroundColor:"#DC3545",color:"white",float:"right"},onClick:function(){return t=e.groupId,void(window.confirm("Are you sure you want to remove all other members from Group ID: #"+t+"?")?(N.push(parseInt(localStorage.getItem("studentId"))),D(N),n.ref("Groups/").child(t).child("members").set(N),qe.a.success("All other group members have been removed successfully."),Q(V+1)):qe.a.success("Removal of all members has been cancelled."));var t},children:"Remove All Members"}):Object(r.jsx)("div",{})]})]}),ke&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ye.a,{style:{float:"left"},children:Object(r.jsx)(b.a,{variant:"contained",color:"secondary",style:e.members.length>1?{float:"left",minWidth:"20px",backgroundColor:"green",opacity:"0.4"}:{float:"left",minWidth:"20px",backgroundColor:"green",opacity:"1",boxShadow:"5px 5px 5px 0 #bbb"},onClick:function(){return me(e.groupId,e.members.length)},disabled:e.members.length>1,children:Object(r.jsx)(Ue.a,{})})}),Object(r.jsxs)(ye.a,{style:{float:"right"},children:[Object(r.jsx)(b.a,{variant:"contained",style:{boxShadow:"5px 5px 5px 0 #bbb",backgroundColor:"#DC3545",color:"white"},onClick:function(){return W(e.groupId,localStorage.getItem("studentId"))},children:"Leave Group"}),Object(r.jsx)(b.a,{variant:"contained",color:"primary",style:{boxShadow:"5px 5px 5px 0 #bbb"},onClick:function(){bt(e.groupId,e.groupName)},children:"Add Member"})]})]})]})]})]}),Object(r.jsx)("div",{})]})})}))}):Object(r.jsx)("div",{})]})]}),Object(r.jsxs)(h.a,{open:et,onClose:function(){tt(!1),ct(-1),Q(V+1),z(void 0),lt(""),jt(!1)},fullWidth:300,children:[Object(r.jsx)(O.a,{children:Object(r.jsx)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{backgroundColor:"#80808026",padding:"2%",overflow:"auto"},children:Object(r.jsxs)("div",{children:["Add Members for Group #",at,":"," ",st]})})}),Object(r.jsx)(x.a,{children:Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(r.jsxs)("div",{style:{marginBottom:30},children:[Object(r.jsx)("div",{style:{marginBottom:10},children:"Share the following URL to your group mates to invite them to the group"}),Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%"},children:[Object(r.jsx)("input",{style:{flexGrow:1,marginRight:20,padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid",backgroundColor:"lightGray"},value:Xe+"/JoinGroup/"+at,onFocus:function(e){e.target.select()}}),Object(r.jsx)(_e.CopyToClipboard,{text:"Use the link to join my MixTime Group\n"+Xe+"/JoinGroup/"+at,onCopy:function(){qe.a.success("The sharing link has been copied"),jt(!0)},children:Object(r.jsx)("div",{children:Object(r.jsx)(b.a,{variant:"contained",color:"primary",style:{width:"fit-content",boxShadow:"5px 5px 5px 0 #bbb"},children:"Copy To Clipboard"})})})]})})]}),Object(r.jsxs)("div",{style:{marginBottom:30,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(r.jsx)("div",{style:{marginRight:15},children:"Share Via:"}),Object(r.jsx)("div",{style:{marginRight:15},children:Object(r.jsx)(Ke.a,{style:{borderRadius:"32px",boxShadow:"3px 3px 3px 0 #bbb"},url:"Use the link to join my MixTime Group\n"+Xe+"/JoinGroup/"+at,children:Object(r.jsx)(Ve.a,{size:32,round:!0})})}),Object(r.jsx)("div",{style:{marginRight:15},children:Object(r.jsx)(Qe.a,{style:{borderRadius:"32px",boxShadow:"3px 3px 3px 0 #bbb"},url:"Use the link to join my MixTime Group\n"+Xe+"/JoinGroup/"+at,children:Object(r.jsx)($e.a,{size:32,round:!0})})})]}),Object(r.jsxs)("div",{style:{marginBottom:30},children:["Current Members:",N?JSON.stringify(N):"beep"]}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(r.jsx)("div",{style:{},children:"Enter member ID: "}),Object(r.jsx)("input",{type:"text",placeholder:"Enter Group Member ID to add",style:{flexGrow:1,marginLeft:20,marginRight:20,padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid #da337a",backgroundColor:"initial !important",boxShadow:"0 0 8px 0 #da337a"},value:L,onChange:function(e){!function(e){var t=e.target.value;if(t.includes(","))qe.a.error("You are not allowed to enter ,");else if(t.includes(" "))qe.a.error("You are not allowed to enter blank spaces");else if(t.includes(";"))qe.a.error("You are not allowed to enter ;");else{if(z(t),parseInt(t)==parseInt(i))return qe.a.error("You are not allowed to add your own Student ID"),void gt(!0);if(void 0===R(t))return qe.a.error("There is no record of this member ID #"+t),void gt(!0);var r=!1;N.forEach((function(e){parseInt(t)==parseInt(e)&&(qe.a.error("You are not allowed to add existing group members"),gt(!0),r=!0)})),!0!==r&&(n.ref("Students/".concat(t)).once("value").then((function(e){if(null===e.val())return qe.a.error("There is no record of this member ID #"+t),void gt(!0)})),gt(!1))}}(e)}}),Object(r.jsx)(b.a,{disabled:!0===ft,variant:"contained",color:"primary",style:{width:"fit-content",boxShadow:!0===ft?"":"5px 5px 5px 0 #bbb"},onClick:function(){!function(){for(var e=[],t=0;t<g.length;t++)if(g[t].groupId===at)for(var r=g[t].members,a=0;a<r.length;a++)void 0!==r[a]&&e.push(r[a]);e.push(parseInt(L)),n.ref("Groups/").child(at).child("members").set(e).then((function(){D([].concat(e))})),qe.a.success("Member ID: "+L+" has been added to Group ID: "+at+" successfully."),console.log("newList"),console.log(e),H(at),z(void 0),E()}()},children:"Add Member"})]}),Object(r.jsx)("div",{children:"Note: You do not need to add your own ID."}),Object(r.jsx)("div",{children:"Your ID is displayed on the top right hand corner beside your name."})]})})]})]})},tt=n(274);var nt=function(e){return Object(r.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",height:"100%",wigth:"100%"},children:[Object(r.jsx)("div",{style:{marginTop:50},children:Object(r.jsx)(b.a,{variant:"contained",onClick:function(){void 0!==e.getUsers?e.getUsers():console.log("lmao it didnt work")},children:"Get user information from firebase"})}),Object(r.jsx)("div",{children:e.userList&&e.userList.length>0?e.userList.map((function(e){return Object(r.jsx)("div",{children:JSON.stringify(e)})})):Object(r.jsx)("div",{})})]})},rt=function(e){if(e.includes("https://nusmods.com/timetable/")&&e.includes("/share?")&&void 0!==e.split("?")[1])return e.split("?")[1]?e.split("?")[1].split("&").map((function(e){return e.split(/=|,/)})):[];throw console.log("Invalid URL entered"),"Invalid URL entered"},at=function(e,t,n){return e.slice(1).map((function(r,a){var c,o,i=r.split(":");return t.semesterData.forEach((function(e){e.semester===n&&(c=e.timetable)})),void 0===c?o=[]:c.forEach((function(t){JSON.stringify(t.lessonType).substring(1,4).toLowerCase()===JSON.stringify(i[0]).substring(1,4).toLowerCase()&&t.classNo===i[1]&&void 0!==t.lessonType&&void 0!==t.startTime&&void 0!==t.endTime&&void 0!==t.weeks&&void 0!==t.day&&(o={moduleCode:e[0],lessonType:t.lessonType,startTime:t.startTime,endTime:t.endTime,weeks:t.weeks,day:t.day})})),o}))},ct=function(e,t,n){var r=new Date("Aug 9 2021 0:00 GMT+8"),a={Monday:0,monday:0,Tuesday:1,tuesday:1,Wednesday:2,wednesday:2,Thursday:3,thursday:3,Friday:4,friday:4,Saturday:5,saturday:5,Sunday:6,sunday:6};e>6?r.setDate(r.getDate()+7*e+a[t]):r.setDate(r.getDate()+7*(e-1)+a[t]);var c=n.substring(0,2),o=n.substring(2,4),i=6e4*(60*parseInt(c)+parseInt(o));return new Date(r.getTime()+i).getTime()};var ot=function(e){var t=I(),n=Object(a.useState)({}),c=Object(j.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)(""),l=Object(j.a)(s,2),d=l[0],u=l[1],h=Object(a.useState)(""),p=Object(j.a)(h,2),x=p[0],m=p[1],O=Object(a.useState)([]),f=Object(j.a)(O,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(j.a)(y,2),S=w[0],k=w[1],C=Object(a.useState)([]),T=Object(j.a)(C,2),N=T[0],D=T[1],E=Object(a.useState)(2),G=Object(j.a)(E,1)[0];Object(a.useEffect)((function(){}),[S,N]);var M=function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.map((function(e){return e&&e.length>0&&e[0].length>0?te(e[0]):(console.log("no timetable loaded"),null)})),Promise.allSettled(t).then((function(e){k(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",wigth:"100%",padding:"2%"},children:"User Profile"}),Object(r.jsx)(nt,{getUsers:function(){t.ref("users/").once("value").then((function(e){e.val()?i(e.val()):console.log("missing")}))},userList:o}),Object(r.jsxs)("div",{children:["entered URL : ",d]}),Object(r.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",marginTop:50},children:["Enter URL:",Object(r.jsx)("div",{style:{color:"red"},children:x}),Object(r.jsx)(tt.a,{style:{width:300},value:d,onChange:function(e){u(e.target.value),m("")}}),Object(r.jsx)(b.a,{variant:"contained",onClick:function(){try{v(rt(d))}catch(e){m(e)}},children:"parse timetable"}),Object(r.jsx)(b.a,{variant:"contained",onClick:function(){try{M()}catch(e){m(e)}},children:"Ping timetable"}),Object(r.jsx)(b.a,{variant:"contained",onClick:function(){try{!function(){var e=g.map((function(e){var t;S.forEach((function(n){'"fulfilled"'===JSON.stringify(n.status)&&JSON.stringify(n.value.moduleCode)===JSON.stringify(e[0])&&(t=n.value)}));var n=void 0;return void 0!==t&&(n=at(e,t,G)),n})),t=[];e.forEach((function(e){void 0!==e&&t.push.apply(t,Object(K.a)(e))}));var n=[];t.forEach((function(e){void 0!==e&&void 0!==e.weeks&&void 0!==e.day&&void 0!==e.endTime&&e.weeks.forEach((function(t){var r=ct(t,e.day,e.startTime),a=ct(t,e.day,e.endTime);n.push({name:e.moduleCode,eventType:e.lessonType,startTime:r,endTime:a})}))})),D(n)}()}catch(e){m(e)}},children:"Find occupied time"})]}),Object(r.jsxs)("div",{style:{marginTop:100},children:["[",N&&N.length>1?N.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{children:[JSON.stringify(e),","]})})})):"","]"]})]})},it=n(276),st=n(123),lt=n(285),dt=n(277),ut=n(215),jt=n(51),bt=n.n(jt),ht=(n(92),function(){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"center",children:["Colour Legend",Object(r.jsx)(Je.a,{title:Object(r.jsxs)("div",{children:[Object(r.jsx)("em",{style:{fontSize:"12px"},children:"What is this?"}),Object(r.jsx)("p",{}),Object(r.jsx)("em",{style:{fontSize:"12px"},children:"Each timeblock in your personal timetable will have their respective colour representation depending on the type of event."})]}),children:Object(r.jsx)(ut.a,{"aria-label":"delete",children:Object(r.jsx)(bt.a,{fontSize:"small"})})})]}),Object(r.jsx)("table",{style:{display:"flex"},children:Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{style:{background:"#FDDFDF",color:"#000000"},children:"Lecture"}),Object(r.jsx)("th",{style:{background:"#F0DEFD",color:"#000000"},children:"Tutorial"}),Object(r.jsx)("th",{style:{background:"#DEFDE0",color:"#000000"},children:"Private"}),Object(r.jsx)("th",{style:{background:"#DEF3FD",color:"#000000"},children:"Others"}),Object(r.jsx)("th",{style:{background:"#FFFFFF",color:"#000000",border:"1px solid lightgrey"},children:"Available"})]})})})]})}),pt=n(90),xt=(n(209),n(295)),mt=n(296),Ot=n(275),ft=n(288),gt=n.p+"static/media/ImportURL.c37dbb9a.mp4",vt=n.p+"static/media/CreateGroup.a28e0f86.mp4";var yt=function(e){var t=Object(a.useState)(0),n=Object(j.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(localStorage.getItem("studentName")),s=Object(j.a)(i,2),l=(s[0],s[1]),d=Object(a.useState)(localStorage.getItem("studentId")),u=Object(j.a)(d,2),h=(u[0],u[1]),p=Object(a.useState)(!1),x=Object(j.a)(p,2),m=x[0],O=x[1],f=function(){return O(!1)},g=Object(we.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1),boxShadow:"grey 5px 5px 5px 0px"},nextButton:{boxShadow:"grey 5px 5px 5px 0px"},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),v=I(),y=g(),w=Object(a.useState)(0),S=Object(j.a)(w,2),k=S[0],C=S[1],T=["Enter Your MixTime Username","Importing Your NUSMods Timetable","Forming A MixTime Group"],N=function(){C((function(e){return e+1}))},D=function(){C((function(e){return e-1}))};function E(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"It seems like this is the first time here. Please enter your name to begin."}),Object(r.jsxs)("div",{children:["Enter Your Name:",Object(r.jsx)(xt.a,{required:!0,placeholder:"e.g, John Doe",defaultValue:localStorage.getItem("inputName"),autoFocus:"undefined"!==typeof localStorage.getItem("inputName")&&null!==localStorage.getItem("inputName")&&""!==localStorage.getItem("inputName"),style:{width:300,marginLeft:30,marginRight:30,marginTop:20,boxShadow:"0px 0px 8px #da337a"},onChange:function(e){localStorage.setItem("inputName",e.target.value)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{disabled:!0,className:y.backButton,children:"Back"}),Object(r.jsx)(b.a,{variant:"contained",color:"primary",className:y.nextButton,onClick:function(){var e=localStorage.getItem("inputName");"undefined"!==typeof e&&null!==e&&""!==e?(M(),N()):G()},children:k===T.length-1?"Finish":"Next"})]})]})]})}var G=function(){qe.a.error("Please input a name!",{position:qe.a.POSITION.TOP_RIGHT,toastId:"001"})},M=function(){qe.a.dismiss()};Object(a.useEffect)((function(){o(0),null==localStorage.getItem("studentId")?O(!0):A(localStorage.getItem("studentId"))}),[c]);var A=function(e){v.ref("Students/".concat(localStorage.getItem("studentId"),"/name")).once("value").then((function(e){l(e.val())}))},Y=function(e){console.log("studentName: "+e);var t=v.ref("Students/").orderByKey();console.log("1: "+t),t.once("value").then((function(t){t.forEach((function(e){var t=e.key;h(parseInt(t)+1),localStorage.setItem("studentId",parseInt(t)+1)})),R(e)}))},R=function(t){v.ref("Students/").child(localStorage.getItem("studentId")).child("name").set(t),o(c+1),localStorage.setItem("studentName",t),void 0!==e.triggerNameRefresh&&(e.triggerNameRefresh(),qe.a.success("You have successfully signed up."))};return Object(r.jsxs)(pt.a,Object(_.a)(Object(_.a)({show:m,onHide:f,backdrop:"static",keyboard:!1},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(r.jsx)(pt.a.Header,{children:Object(r.jsx)(pt.a.Title,{id:"contained-modal-title-vcenter",children:"Welcome to MixTime!"})}),Object(r.jsx)(pt.a.Body,{children:Object(r.jsxs)("div",{className:y.root,children:[Object(r.jsx)(mt.a,{activeStep:k,alternativeLabel:!0,children:T.map((function(e){return Object(r.jsx)(Ot.a,{children:Object(r.jsx)(ft.a,{children:e})},e)}))}),Object(r.jsx)("hr",{}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{children:k===T.length?Object(r.jsx)("div",{}):Object(r.jsx)("div",{children:Object(r.jsx)(ve.a,{className:y.instructions,children:function(e){switch(e){case 0:return E();case 1:return Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["You ",Object(r.jsx)("b",{children:"must"})," import your NUSMods timetable into MixTime, to see it on your MixTime timetable page."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"import your timetable"}),", follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:'1. Click on the "Share/Sync" button.'}),Object(r.jsx)("li",{children:"2. Click on the Copy icon."}),Object(r.jsx)("li",{children:"3. Paste your link into our URL text-box below."}),Object(r.jsx)("li",{children:"4. Click on the Update Timetable button."}),Object(r.jsx)("li",{children:'5. Your timetable has been successfully added. You can see it from the "My Timetable" tab.'})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video ",Object(r.jsx)("b",{children:"here"})," for steps:"]}),Object(r.jsx)("video",{controls:!0,children:Object(r.jsx)("source",{src:gt,type:"video/mp4"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{variant:"contained",color:"primary",onClick:D,className:y.backButton,children:"Back"}),Object(r.jsx)(b.a,{className:y.nextButton,variant:"contained",color:"primary",onClick:N,children:k===T.length-1?"Finish":"Next"})]})]});case 2:return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"You can create a group on MixTime, by adding your group members MixTime IDs. Your own ID is found on the top right corner of the window."}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"create a group"}),", follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:'1. Head over to the "Manage Groups" page.'}),Object(r.jsx)("li",{children:"2. Click on the (+) icon."}),Object(r.jsx)("li",{children:"3. A pop-up window will appear, enter your group name first."}),Object(r.jsx)("li",{children:"4. Enter your group size (Note, the group size includes you)."}),Object(r.jsx)("li",{children:"5. Enter your group members IDs."})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video ",Object(r.jsx)("b",{children:"here"})," for steps:"]}),Object(r.jsx)("video",{controls:!0,children:Object(r.jsx)("source",{src:vt,type:"video/mp4"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(b.a,{variant:"contained",color:"primary",disabled:0===k,onClick:D,className:y.backButton,children:"Back"}),Object(r.jsx)(b.a,{variant:"contained",color:"primary",className:y.nextButton,onClick:function(){N(),f(),M(),Y(localStorage.getItem("inputName"))},children:k===T.length-1?"Finish":"Next"})]})]});default:return E()}}(k)})})})]})})]}))},wt=n(143),St=n.p+"static/media/FullImportStep.df2a478b.mp4";var It=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(wt.a,{tooltip:Object(r.jsx)("u",{className:"confirm_selection",children:"What can I do here?"}),children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["Follow this video to import your timetable. If you need more help, visit our"," ",Object(r.jsx)("a",{href:"./TutorialPage",children:Object(r.jsx)("u",{children:"tutorial page"})}),"."]}),Object(r.jsx)("br",{}),Object(r.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,style:{maxWidth:"100%"},children:Object(r.jsx)("source",{src:St,type:"video/mp4"})})]})})})},kt=n(284);qe.a.configure();var Ct="Export from NUSMods.com Share/Sync",Tt=function(e){var t=I(),n=(Object(a.useContext)(L),localStorage.getItem("studentId")),c=Object(a.useState)(""),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(Ct),d=Object(j.a)(l,2),u=d[0],h=d[1],p=Object(a.useState)(!1),x=Object(j.a)(p,2),m=x[0],O=x[1],f=Object(a.useState)([]),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)([]),S=Object(j.a)(w,2),k=S[0],C=S[1],T=Object(a.useState)([]),N=Object(j.a)(T,2),D=N[0],E=N[1],G=Object(a.useState)([]),M=Object(j.a)(G,2),A=M[0],Y=M[1],R=Object(a.useState)(1),B=Object(j.a)(R,2),U=B[0],F=B[1],P=Object(a.useState)(2),z=Object(j.a)(P,2),W=z[0],H=(z[1],Object(a.useState)(!1)),J=Object(j.a)(H,2),q=(J[0],J[1],Object(a.useState)(!1)),_=Object(j.a)(q,2),V=_[0],Z=_[1];Object(a.useEffect)((function(){}),[k,A]),Object(a.useEffect)((function(){console.log(U)}),[U]),Object(a.useEffect)((function(){if(void 0!==v&&v.length>0)try{X()}catch(e){O(!0),h(e)}else h(Ct)}),[v]),Object(a.useEffect)((function(){void 0!==V&&V.length>1&&qe.a.error(V)}),[V]),Object(a.useEffect)((function(){t.ref("Students/".concat(n,"/events")).once("value").then((function(e){E(e.val())}))}),[A]),Object(a.useEffect)((function(){try{re()}catch(e){O(!0),h(e)}}),[k]),Object(a.useEffect)((function(){A&&A.length>0&&(1===U?(!function(e,t,n,r){var a=[];a=void 0!==n&&null!==n&&n.length>0?[].concat(Object(K.a)(t),Object(K.a)(n)):t;var c=[];a.forEach((function(e){for(var t=0;t<=c.length&&(t===c.length&&c.push(e),!ee(c[t],e));t++);}));var o=r.ref("Students/".concat(e,"/events"));try{o.set(c)}catch(m){throw console.error("[apiFunctions] addStudentEventsToDB - studentsRef.set(uniqueArray)"),new Error(m)}}(localStorage.getItem("studentId"),A,D,t),qe.a.success("Your NUSMods timetable has been updated."),F(0)):2===U&&(ne(localStorage.getItem("studentId"),A,t),qe.a.success("Your NUSMods timetable has been replaced."),F(0))),3===U&&(ne(localStorage.getItem("studentId"),A,t),qe.a.success("Your NUSMods timetable has been cleared."),F(0))}),[A]);var X=function(){var e=Object($.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v.map((function(e){if(e&&e.length>0&&e[0].length>0)return te(e[0]);console.log("no timetable loaded")})),Promise.allSettled(t).then((function(e){C(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=v.map((function(e){var t;k.forEach((function(n){'"fulfilled"'===JSON.stringify(n.status)&&JSON.stringify(n.value.moduleCode)==JSON.stringify(e[0])&&(t=n.value)}));var n=void 0;return void 0!==t&&(n=at(e,t,W)),n})),t=[];e.forEach((function(e){void 0!==e&&t.push.apply(t,Object(K.a)(e))}));var r=[];t.forEach((function(e){void 0!==n&&void 0!==e&&void 0!==e.weeks&&void 0!==e.day&&void 0!==e.endTime&&e.weeks.forEach((function(t){var a=ct(t,e.day,e.startTime),c=ct(t,e.day,e.endTime);r.push({studentId:n,eventName:e.moduleCode,eventType:e.lessonType,startTime:a,endTime:c})}))})),Y(r)},ae=function(){};return void 0!==e.triggerLayoutForceRefresh&&(ae=function(){e.triggerLayoutForceRefresh()}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row",color:"red",alignItems:"baseline",marginTop:"1em",marginBottom:"1em",width:"70vw"},children:[Object(r.jsx)(yt,{triggerNameRefresh:function(){ae()}}),Object(r.jsx)(kt.a,{error:m,style:{margin:"1em"},id:"outlined-basic",label:"Share/Sync Timetable Link ",fullWidth:!0,margin:"dense",helperText:u,variant:"outlined",defaultValue:"https://nusmods.com/timetable/sem-2/share?GEM1000...",placeholder:"https://nusmods.com/timetable/sem-2/share?GEM1000...",onChange:function(e){s(e.target.value),h(Ct),O(!1)}}),Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"1.2em"},children:"Add Modules to Timetable"}),children:Object(r.jsx)(b.a,{style:{boxShadow:"3px 3px 3px 0px #bbb",margin:"1em",width:"45em"},variant:"contained",color:"primary",onClick:function(){F(1);try{y(rt(i))}catch(e){h(e),O(!0)}},children:"Import NUSMODS Timetable"})}),Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"1.2em"},children:"Click here to clear your imported NUSMods timetable"}),children:Object(r.jsx)(b.a,{style:{boxShadow:"3px 3px 3px 0px #bbb",margin:"1em",width:"45em"},variant:"contained",color:"secondary",onClick:function(){F(3);try{!function(){var e=[];D&&D.length>0&&D.map((function(t){"Personal Events"!=t.eventType&&"Others"!=t.eventType&&"Private"!=t.eventType||e.push(t)})),console.log("nonNUSModsEventArray"),console.log(e),Y(e)}()}catch(m){Z(m)}},children:"Clear Imported Timetable"})})]})},Nt=n(79),Dt=n(287),Et=n(106),Gt=n.n(Et),Mt=n(144),At=n.n(Mt);function Yt(e){var t=["#FDDFDF","#F0DEFD","#DEFDE0","#DEF3FD","#FCF7DE"];return e.includes("Lecture")?t[0]:e.includes("Tutorial")?t[1]:"Private"==e?t[2]:t[3]}function Rt(){return{padding:"50px",background:"#f9f9f9",marginTop:"3rem",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"}}qe.a.configure();var Bt=function(e){var t=e.moduleInfo,n=e.index,c=t.studentId,o=t.id,i=t.title,s=t.type,l=t.startTime,d=t.endTime,u={studentId:c,endTime:d,eventName:i,eventType:s,startTime:l},h=Object(a.useState)(u),p=Object(j.a)(h,2),x=p[0],m=p[1],O=I(),f=xe(),g=ue(),v=Object(a.useState)(Rt),y=Object(j.a)(v,1)[0],w=Object(a.useState)(!1),S=Object(j.a)(w,2),k=S[0],C=S[1];var T=function(){C(!1)};var N=Object(r.jsxs)("div",{style:y,children:[Object(r.jsxs)("p",{style:{fontSize:"25px",color:"#ff5138"},children:["View Event Details",Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"12px"},children:"Through this page, you are able to view the details of your event."}),children:Object(r.jsx)(ut.a,{"aria-label":"delete",children:Object(r.jsx)(bt.a,{fontSize:"small"})})}),Object(r.jsx)(b.a,{onClick:T,variant:"contained",style:{float:"right",borderRadius:"15px",boxShadow:"5px 5px 5px 0px grey"},color:"secondary",children:Object(r.jsx)(Gt.a,{fontSize:"small"})})]})," ",Object(r.jsx)("p",{children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("label",{for:"eventName",style:{textAlign:"left",display:"block",padding:"0.5em 1.5em 0.5em 0"},children:["Title: *"," "]}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"eventName",required:"required",value:x.eventName,onChange:function(e){var t=e.target,n=t.name,r=t.value;m(Object(_.a)(Object(_.a)({},x),{},Object(Nt.a)({},n,r)))},name:"eventName",placeholder:"Example: IS4261 6UGs Submission...",style:{width:"100%",padding:"0.7em",marginBottom:"0.5rem",outline:"1px solid #ff5138",boxShadow:"3px 3px 3px 0px #ff5138"}}),Object(r.jsx)("br",{}),Object(r.jsxs)(b.a,{onClick:function(){return function(e,t,n,r){if(window.confirm("Are you sure you want to update the event?\nYou cannot undo this.")){var a=e.split("-")[0],c=(e.split("-")[2],e.split("-")[4]),o=O.ref("Students/".concat(r,"/events")),i=o.orderByChild("startTime").equalTo(Number(a));i.on("child_added",(function(e){var r=e.val();r.endTime===Number(c)&&r.eventType===n&&r.eventName===t?(i.off("child_added"),o.child("".concat(e.key)).set(Object(_.a)(Object(_.a)({},e.val()),{},{eventName:x.eventName})),oe(f,g,O),console.log("[TimetableCell] Update module: Updated")):(i.off("child_added"),console.log("[TimetableCell] Update module: Module does not match"))})),C(!1),qe.a.success("Event has been updated sucessfully.")}else C(!1),qe.a.success("Updating of event is cancelled.")}(o,i,s,c)},variant:"contained",style:{boxShadow:"5px 5px 5px 0px grey"},color:"primary",children:[Object(r.jsx)(At.a,{fontSize:"small"}),"Update"]})]})}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Event Title: ",i]}),Object(r.jsxs)("p",{children:["Event Status: ",s]}),Object(r.jsxs)("p",{children:["Start Time: ",l]}),Object(r.jsxs)("p",{children:["End Time: ",d]}),Object(r.jsxs)("p",{children:["Student Id: ",c]}),Object(r.jsx)("br",{}),Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"12px"},children:"Click here to delete an event"}),children:Object(r.jsxs)(b.a,{onClick:function(){return function(e,t,n,r){if(window.confirm("Are you sure you want to delete the event?\nYou cannot undo this.")){var a=e.split("-")[0],c=e.split("-")[4],o=O.ref("Students/".concat(r,"/events")),i=o.orderByChild("startTime").equalTo(Number(a));i.on("child_added",(function(e){var r=e.val();r.endTime===Number(c)&&r.eventType===n&&r.eventName===t?(i.off("child_added"),o.child("".concat(e.key)).remove(),oe(f,g,O),console.log("[TimetableCell] Delete module: Removed")):(i.off("child_added"),console.log("[TimetableCell] Delete module: Module does not match"))})),C(!1),qe.a.success("The event has been deleted successfully.")}else C(!1),qe.a.success("Deletion of event is cancelled.")}(o,i,s,c)},variant:"contained",style:{boxShadow:"5px 5px 5px 0px grey"},color:"primary",children:[Object(r.jsx)(Ue.a,{fontSize:"small"}),"Delete"]})}),"\xa0",Object(r.jsx)(b.a,{onClick:T,variant:"contained",style:{boxShadow:"5px 5px 5px 0px grey"},color:"secondary",children:"Cancel"})]});return Object(r.jsxs)("div",{style:{backgroundColor:Yt(s),boxShadow:"2px 1px 2px grey"},children:[Object(r.jsxs)("button",{onClick:function(){C(!0)},children:[Object(r.jsx)("div",{children:i}),Object(r.jsx)("div",{children:s})]}),Object(r.jsx)("div",{children:Object(r.jsx)(Dt.a,{open:k,onClose:T,children:N})})]},"".concat(o,"-").concat(n))},Ut=function(e){var t=e.data.map((function(e,t){return Object(r.jsx)(Bt,{moduleInfo:e,index:t},"".concat(e.id,"-").concat(t))}));return Object(r.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:t})};function Ft(e){var t=e.weekNumber,n=void 0===t?1:t,a=e.timetableData,c=e.children,o=e.showPrivate,i=void 0!==o&&o,s=[];a&&(s=Object.values(a).flat()),i||(s=function(e){return e.filter((function(e){return null==e||!e.eventType||"Private"!==e.eventType}))}(s)),n=parseInt(n);var l=function(e,t){var n="0800",r="1800";return e.filter((function(e){return parseInt(e.week)===parseInt(t)})).forEach((function(e){parseInt(e.startTime)<parseInt(n)&&(n=e.startTime),parseInt(e.endTime)>parseInt(r)&&(r=e.endTime)})),{startTime:n,endTime:r}}(M(s),n),d=R(l.startTime,l.endTime,30,null),u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((function(e){return function(e,t){return{name:e,modules:t}}(e,R(l.startTime,l.endTime,30,function(e,t,n){return M(e).filter((function(e){return e.week===t})).filter((function(e){return e.day.includes(n)}))}(s,n,e)))}));return Object(r.jsxs)(r.Fragment,{children:[c,Object(r.jsx)("div",{style:{display:"block",overflow:"auto",margin:"1em"},children:Object(r.jsxs)("table",{className:"nice-table","aria-label":"customized table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{}),d.map((function(e){return Object(r.jsx)("th",{align:"center",children:e},e)}))]})}),Object(r.jsx)("tbody",{children:u.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"tdays",style:{textAlign:"center"},children:e.name},"".concat(e.name,"-th")),e.modules.map((function(e,t){return Object(r.jsx)("td",{align:"center",children:Object(r.jsx)(Ut,{data:e,fullData:s})},"".concat(e.id,"-").concat(t))}))]},"".concat(e.name,"-tr"))}))})]})})]})}var Pt=n(286),Lt=Object(we.a)((function(){return{ul:{"& .MuiPaginationItem-root":{boxShadow:"0px 2px 2px 0px grey"}}}})),zt=function(e){var t=e.handleChange,n=e.week,a=e.maximumWeek,c=void 0===a?14:a,o=Lt();return Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"0.5em"},children:[Object(r.jsxs)("div",{children:["Week ",n]}),Object(r.jsx)(Pt.a,{classes:{ul:o.ul},count:c,page:n,siblingCount:0,onChange:t,variant:"outlined",boundaryCount:2,children:"Week"})]})},Wt=n(122),Ht=n.n(Wt);function Jt(){return{padding:"50px",background:"#f9f9f9",marginTop:"3rem",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"}}function qt(e){var t=localStorage.getItem("studentId"),n=I(),c=ue(),o=xe(),i=J(),s=je(),l=e.myGroup,d=void 0===l?null:l,u=Object(a.useState)(Jt),h=Object(j.a)(u,1)[0],p=Object(a.useState)({endTime:"",eventName:"",eventType:"",startTime:""}),x=Object(j.a)(p,2),m=x[0],O=x[1],f=function(e){var t=e.target,n=t.name,r=t.value;O(Object(_.a)(Object(_.a)({},m),{},Object(Nt.a)({},n,r)))},g=function(e){var t={endTime:new Date(m.endTime).getTime(),eventName:m.eventName,eventType:m.eventType,startTime:new Date(m.startTime).getTime(),studentId:e},r=n.ref("Students/".concat(e,"/events")),a=r.orderByKey().limitToLast(1),c=function(e,t){var n=G(new Date(e));t?s(n):i(n)};a.on("value",(function(e){e.val()?(console.log("[CreateEvent] createEventsQuery: found at least one event"),a.off("value"),a.on("child_added",(function(e){console.log("[CreateEvent] createEventsQuery: create event - ",e.key);var n=Number(e.key)+1;a.off("child_added"),r.child(n).set(t).then((function(){return c(t.startTime,d)}))}))):(console.log("[CreateEvent] createEventsQuery: found no events"),a.off("value"),r.child("0").set(t).then((function(){console.log("[CreateEvent] createEventsQuery: created first event"),c(t.startTime,d)})).catch((function(e){console.error(e),console.log("[CreateEvent] createEventsQuery: event creation error")})))}))},v=function(){var e=Object($.a)(Q.a.mark((function e(r){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),window.confirm("Are you sure you want to add the event?\nYou cannot undo this.")?(d?(a=null===d||void 0===d?void 0:d.members,Array.isArray(a)&&a.forEach((function(e){e&&g(e)}))):g(t),k(!1),qe.a.success("A new ".concat(d?"group ":"","event has been sucessfully added.")),d&&oe(o,c,n)):(k(!1),qe.a.success("Adding of event is cancelled."));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(a.useState)(!1),w=Object(j.a)(y,2),S=w[0],k=w[1],C=function(){k(!1)},T=new Date,N=Ht()(T).format("DD-MM-YYYY"),D=Ht()().format("dddd"),E=Object(r.jsxs)("div",{style:h,children:[Object(r.jsxs)("p",{style:{fontSize:"25px",color:"#ff5138"},children:["Add a 30 Minutes ",d?"Group ":"","Time Block Interval Event",Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"12px"},children:function(e){return e?"Add a group event to your group timetable.":"Add an event to your personal timetable, you may choose either a 'Private' event status for your personal commitment or 'Others' event status for general event."}(d)}),children:Object(r.jsx)(ut.a,{"aria-label":"delete",children:Object(r.jsx)(bt.a,{fontSize:"small"})})}),Object(r.jsx)(b.a,{onClick:C,variant:"contained",style:{float:"right",borderRadius:"15px",boxShadow:"5px 5px 5px 0px grey"},color:"secondary",children:Object(r.jsx)(Gt.a,{fontSize:"small"})})]}),Object(r.jsxs)("p",{children:["Today's Date: ",N,", ",D]}),Object(r.jsxs)("form",{onSubmit:v,children:[Object(r.jsxs)("label",{for:"eventName",style:{textAlign:"left",display:"block",padding:"0.5em 1.5em 0.5em 0"},children:["Title: *"," "]}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"eventName",required:"required",value:m.eventName,onChange:f,name:"eventName",placeholder:"Example: IS4261 6UGs Submission...",style:{width:"100%",padding:"0.7em",marginBottom:"0.5rem",outline:"1px solid #ff5138",boxShadow:"3px 3px 3px 0px #ff5138"}}),Object(r.jsxs)("label",{for:"eventType",style:{textAlign:"left",display:"block",padding:"0.5em 1.5em 0.5em 0"},children:["Event Status: *"," "]}),Object(r.jsxs)("select",{name:"eventType",id:"eventType",required:"required",onChange:f,style:{width:"100%",padding:"0.7em",marginBottom:"0.5rem",outline:"1px solid #ff5138",boxShadow:"3px 3px 3px 0px #ff5138"},children:[Object(r.jsx)("option",{selected:!0,hidden:!0,children:"Select your event status"}),!d&&Object(r.jsx)("option",{value:"Private",children:"Private"}),Object(r.jsx)("option",{value:"Others",children:"Others"})]}),Object(r.jsxs)("label",{for:"startTime",style:{textAlign:"left",display:"block",padding:"0.5em 1.5em 0.5em 0"},children:["Start Date and Time (Input in 30 Minutes Time Block Interval): *"," "]}),Object(r.jsx)("input",{type:"datetime-local",step:"1800",className:"form-control",id:"startTime",required:!0,value:m.startTime,onChange:f,name:"startTime",min:"2021-01-10T00:00",max:"2021-12-31T00:00",style:{width:"100%",padding:"0.7em",marginBottom:"0.5rem",outline:"1px solid #ff5138",boxShadow:"3px 3px 3px 0px #ff5138"}}),Object(r.jsxs)("label",{for:"endTime",style:{textAlign:"left",display:"block",padding:"0.5em 1.5em 0.5em 0"},children:["End Date and Time (Input in 30 Minutes Time Block Interval): *"," "]}),Object(r.jsx)("input",{type:"datetime-local",step:"1800",className:"form-control",id:"endTime",required:!0,value:m.endTime,onChange:f,name:"endTime",min:m.startTime,max:"2021-12-31T00:00",style:{width:"100%",padding:"0.7em",marginBottom:"0.5rem",outline:"1px solid #ff5138",boxShadow:"3px 3px 3px 0px #ff5138"}}),Object(r.jsx)("br",{}),Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"12px"},children:"Click here to submit the form"}),children:Object(r.jsx)(b.a,{variant:"contained",style:{boxShadow:"5px 5px 5px 0px grey"},color:"primary",children:Object(r.jsx)("input",{type:"submit",value:"SUBMIT",style:{background:"none"}})})}),"\xa0",Object(r.jsx)(b.a,{onClick:C,variant:"contained",style:{boxShadow:"5px 5px 5px 0px grey"},color:"secondary",children:"Cancel"})]})]});return Object(r.jsxs)("div",{className:"submit-form",children:[Object(r.jsx)("span",{children:Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{style:{fontSize:"12px"},children:"Click here to add a new event to your personal timetable"}),children:Object(r.jsxs)(b.a,{onClick:function(){k(!0)},variant:"contained",color:"primary",style:{boxShadow:"5px 5px 5px 0px grey"},children:[Object(r.jsx)(Me.a,{fontSize:"small",style:{color:"white"}}),d?"Add Group Event":"Add Event"]})})}),Object(r.jsx)(Dt.a,{open:S,onClose:C,children:E})]})}function _t(e){var t=H(),n=ue(),c=Object(a.useContext)(le),o=je(),i=Object(a.useState)(0),s=Object(j.a)(i,2),l=s[0],d=s[1],u=Object(a.useContext)(he),b=U(),h=function(e,t){o(t)},p=null!==n&&void 0!==n&&n.length>0,x=Object(a.useMemo)((function(){return Object(r.jsx)(ht,{})}),[ht]),m=Object(a.useMemo)((function(){return Object(r.jsx)(qt,{myGroup:Object.values(n)[l]})}),[l,t]),O=Object(a.useMemo)((function(){return Object(r.jsx)(zt,{handleChange:h,week:c,maximumWeek:b})}),[c]),f=Object(we.a)({paper:{marginTop:"-0.5em",backgroundColor:"#FFF"}})();return Object(r.jsx)(a.Fragment,{children:Object(r.jsxs)(Oe.a,{className:f.paper,square:!0,children:[p&&Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)("div",{id:"legend",children:x}),Object(r.jsx)("div",{id:"week-switcher",children:O}),Object(r.jsx)("div",{id:"action-button",children:m})]}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",wigth:"100%"},children:[Object(r.jsx)(lt.a,{value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){d(t)},"aria-label":"Project Group Tabs",centered:!0,children:p?n.map((function(e){return Object(r.jsx)(it.a,{label:e.groupName,id:e.groupId},e.groupId)})):Object(r.jsx)(it.a,{label:"No Groups"})}),Object(r.jsx)(st.a,{value:JSON.stringify(l),children:p&&u?n.map((function(e,t){return Object(r.jsx)(dt.a,{value:JSON.stringify(t),children:void 0!==u[e.groupId]?Object(r.jsx)(Ft,{weekNumber:c,timetableData:u[e.groupId]},e.groupId):Object(r.jsx)("div",{children:"No events found"})},e.groupId)})):Object(r.jsx)("div",{})})]})]})})}function Kt(e){var t=Object(a.useContext)(z),n=J(),c=H(),o=(localStorage.getItem("studentId"),U()),i=Object(a.useMemo)((function(){return Object(r.jsx)(ht,{})}),[ht]),s=Object(a.useMemo)((function(){return Object(r.jsx)(qt,{})}),[c]),l=e.triggerLayoutForceRefresh,d=function(e,t){n(t)},u=Object(a.useMemo)((function(){return Object(r.jsx)(zt,{handleChange:d,week:t,maximumWeek:o})}),[t]),j=Object(we.a)({paper:{marginTop:"-0.5em",backgroundColor:"#FFF"}})();return Object(r.jsxs)(Oe.a,{className:j.paper,square:!0,children:[" ",Object(r.jsx)(Ft,{weekNumber:t,timetableData:c,showPrivate:!0,children:Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)("div",{id:"legend",children:i}),Object(r.jsx)("div",{id:"week-switcher",children:u}),Object(r.jsx)("div",{id:"action-button",children:s})]})}),Object(r.jsxs)("div",{id:"url-input",children:[Object(r.jsx)("div",{children:Object(r.jsx)(Je.a,{title:Object(r.jsx)("div",{children:Object(r.jsx)("em",{style:{fontSize:"1.2em"},children:"How to get NUSMods Share/Sync?"})}),children:Object(r.jsx)(ut.a,{children:Object(r.jsx)(It,{})})})}),Object(r.jsx)(Tt,{triggerLayoutForceRefresh:function(){l()}})]})]})}qe.a.configure();var Vt=n(278),Qt=n(279),$t=n(293),Zt=n(294),Xt=n(107),en=n.n(Xt),tn=n(108),nn=n.n(tn),rn=n(145),an=n.n(rn),cn=n(146),on=n.n(cn);qe.a.configure();var sn=Object(we.a)({topNavBar:{background:"white",backgroundColor:"#fbfbfb"},sideNavBar:{padding:"10px 10px",backgroundColor:"#fbfbfb",borderRadius:"45px"},sideNavBarActive:{borderBottom:"5px solid #ff5138 !important",backgroundColor:"#fbfbfb"},buttonDesign:{boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.1)",color:"#000",padding:"10px 10px",backgroundColor:"#fbfbfb",border:"none",borderRadius:"45px",transition:"all 0.3s ease 0s",cursor:"pointer",outline:"none","&:hover":{boxShadow:"0px 10px 15px #ff5138",transform:"translateY(-7px)"}}});var ln=function(e){var t=sn(),n=Object(T.g)(),c=Object(T.h)(),o=Object(a.useState)(localStorage.getItem("studentId")),i=Object(j.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)(localStorage.getItem("studentName")),u=Object(j.a)(d,2),b=u[0],h=u[1];Object(a.useEffect)((function(){l(localStorage.getItem("studentId")),h(localStorage.getItem("studentName"))}),[e.forceRefresh]);var p=Object(a.useState)(!1),x=Object(j.a)(p,2),m=x[0],O=x[1],f=Object(a.useState)({disable:!0,val:"",readOnly:!0}),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(0),S=Object(j.a)(w,2),I=S[0],k=S[1];return Object(a.useEffect)((function(){k(0),h(localStorage.getItem("studentName"))}),[I]),Object(r.jsx)(a.Fragment,{children:Object(r.jsxs)(Vt.a,{position:"static",className:t.topNavBar,children:[Object(r.jsx)(Qt.a,{children:Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)(ve.a,{variant:"h1",color:"inherit",children:Object(r.jsxs)("div",{style:{color:"#ff5138"},children:[Object(r.jsx)("div",{style:{float:"right",marginTop:"2%"},children:Object(r.jsxs)(ve.a,{variant:"h5",children:[Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"This is your Student Name. The number #"+localStorage.getItem("studentId")+" is your User ID."}),children:Object(r.jsx)(ut.a,{"aria-label":"delete",children:Object(r.jsx)(bt.a,{fontSize:"small"})})}),"Hi,"," ",null!==localStorage.getItem("studentName")&&0!==v.val.length?Object(r.jsx)("input",{className:"renameText",type:"text",disabled:v.disable,value:b,onChange:function(e){return function(e){O(!1);var t=e.target.value;return t.includes(",")||t.includes(".")||t.includes("!")||t.includes("@")||t.includes("#")||t.includes("$")||t.includes("&")||t.includes("'")||t.includes("(")||t.includes(")")||t.includes("*")||t.includes("+")||t.includes("/")||t.includes(":")||t.includes(";")||t.includes("<")||t.includes("=")||t.includes(">")||t.includes("?")||t.includes("[")||t.includes("]")||t.includes("_")||t.includes("{")||t.includes("}")||t.includes("|")||t.includes("~")||t.includes("^")?(qe.a.error("You are not allowed to enter special characters (!#$%&'()*+,-./:;<=>?@[]^_`{|}~)."),void O(!0)):0===t.length?(qe.a.error("You are not allowed to leave the student name blank."),O(!0),void h("")):(h(e.target.value),y({disable:!1,val:e.target.value}),void localStorage.setItem("studentName",e.target.value))}(e)},readOnly:v.readOnly,size:v.val.length-3,style:!1===v.readOnly||!0===m?{padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid #da337a",boxShadow:"0px 0px 8px #da337a"}:{}}):Object(r.jsx)("span",{children:b}),"(#",s,")",!0===v.readOnly?Object(r.jsx)(C.b,{onClick:function(){y({disable:!1,val:localStorage.getItem("studentName"),readOnly:!1}),k(I+1)},children:Object(r.jsx)("span",{style:{color:"black"},children:Object(r.jsx)(Ne.a,{})})}):Object(r.jsx)(C.b,{onClick:function(e){y({disable:!0,val:b,readOnly:!0}),v.val!==localStorage.getItem("studentName")&&!1===m&&qe.a.success("Student name has been updated successfully.")},style:!0===m?{pointerEvents:"none"}:{},children:!1===m?Object(r.jsx)("span",{style:{color:"black"},children:Object(r.jsx)(Ee.a,{})}):Object(r.jsx)("span",{style:{color:"lightgrey"},children:Object(r.jsx)(Ee.a,{})})})]})}),Object(r.jsx)(ve.a,{variant:"h3",component:"h4",children:"MixTime"}),Object(r.jsx)(ve.a,{variant:"body1",children:Object(r.jsx)("i",{children:"We mix your time to get the best mix of time available"})})]})}),Object(r.jsx)("br",{})]})}),Object(r.jsx)("div",{style:{display:"inherit",padding:"1%",textAlign:"center"},children:Object(r.jsxs)($t.a,{style:{display:"contents",width:"10%",boxShadow:"0 3px 5px 2px rgb(0 0 0 / 15%)",color:"black"},onSelect:function(e){var t=e.itemID;n.push(t)},children:[Object(r.jsxs)(Zt.a,{component:C.b,to:"/Timetable",itemID:"/Timetable",selected:"/Timetable"===c.pathname||"/"===c.pathname,classes:{root:t.buttonDesign,selected:t.sideNavBarActive},style:{width:"fit-content"},children:[Object(r.jsx)(en.a,{})," \xa0\xa0 My Timetable"]}),"\xa0 \xa0",Object(r.jsxs)(Zt.a,{component:C.b,to:"/GroupTimetable",itemID:"/GroupTimetable",selected:"/GroupTimetable"===c.pathname,classes:{root:t.buttonDesign,selected:t.sideNavBarActive},style:{width:"fit-content"},children:[Object(r.jsx)(an.a,{})," \xa0\xa0 Group Timetable"]}),"\xa0 \xa0",Object(r.jsxs)(Zt.a,{component:C.b,to:"/GroupManagement",itemID:"/GroupManagement",selected:"/GroupManagement"===c.pathname||"/ViewArchivedGroups"===c.pathname,classes:{root:t.buttonDesign,selected:t.sideNavBarActive},style:{width:"fit-content"},children:[Object(r.jsx)(nn.a,{})," \xa0\xa0 Manage Groups"]}),"\xa0\xa0",Object(r.jsx)("span",{style:{float:"right",display:"inherit"},children:Object(r.jsx)(Zt.a,{classes:{root:t.buttonDesign,selected:t.sideNavBarActive},style:{width:"fit-content",marginLeft:"auto"},component:C.b,to:"/TutorialPage",itemID:"/TutorialPage",selected:"/TutorialPage"===c.pathname,children:Object(r.jsxs)("div",{style:{color:"black"},children:[Object(r.jsx)(on.a,{})," \xa0\xa0 Learning Guide"]})})})]})})]})})};qe.a.configure();var dn=Object(we.a)({root:{margin:"2%",display:"inline"},media:{height:140},cardColumn:{padding:"10px"},boxDesign:{transition:"all 0.3s ease 0s","&:hover":{boxShadow:"0px 10px 15px #ff5942",transform:"translateY(-7px)"}}});var un=function(e){var t=dn(),n=Object(a.useState)(window.location.href),c=Object(j.a)(n,2),o=c[0],i=(c[1],Object(a.useState)()),s=Object(j.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)(localStorage.getItem("studentId")),h=Object(j.a)(u,2),p=h[0],x=h[1],m=Object(a.useState)(localStorage.getItem("studentName")),O=Object(j.a)(m,2),f=(O[0],O[1]),g=Object(a.useState)([]),v=Object(j.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(!1),k=Object(j.a)(S,2),C=k[0],D=k[1],E=Object(a.useState)(!0),G=Object(j.a)(E,2),M=G[0],A=G[1],Y=Object(a.useState)(""),R=Object(j.a)(Y,2),B=R[0],U=R[1],F=Object(a.useState)(),P=Object(j.a)(F,2),L=P[0],z=P[1],W=Object(a.useState)(""),H=Object(j.a)(W,2),J=H[0],q=H[1],_=I(),K=Object(a.useState)(0),V=Object(j.a)(K,2),Z=V[0],X=V[1];Object(a.useEffect)((function(){if(X(0),null==localStorage.getItem("studentId")){var e=prompt("Hi! Seems like this is the first time you visited MixTime. \nPlease enter your name and we'll tag it into your timetable.");te(e)}else ee(localStorage.getItem("studentId"))}),[Z]);var ee=function(e){_.ref("Students/".concat(localStorage.getItem("studentId"),"/name")).once("value").then((function(e){f(e.val())}))},te=function(e){_.ref("Students/").orderByKey().once("value").then((function(t){t.forEach((function(e){var t=e.key;x(parseInt(t)+1),localStorage.setItem("studentId",parseInt(t)+1)})),ne(e)}))},ne=function(t){_.ref("Students/").child(localStorage.getItem("studentId")).child("name").set(t),X(Z+1),localStorage.setItem("studentName",t),void 0!==e.triggerLayoutForceRefresh&&e.triggerLayoutForceRefresh()};Object(a.useEffect)(Object($.a)(Q.a.mark((function e(){var t,n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.split("/"),n=t[t.length-1],null==localStorage.getItem("studentId")||void 0===n){e.next=8;break}return e.next=5,ae(n,_);case 5:r=e.sent,w(r),d(n);case 8:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){if(void 0!==B&&B.length<1)A(!0);else{if(parseInt(B))return z(parseInt(B)),void A(!1);if(!B.includes(window.location.host))return A(!0),void q("Wrong URL Entered");if(B.split("/JoinGroup/"[1])){var e=B.split("/JoinGroup/")[1];if(parseInt(e))return z(parseInt(e)),void A(!1)}q("Could not get group number, please check and try again"),A(!0)}}),[B]),Object(a.useEffect)((function(){}),[L]);var re=function(){var e=Object($.a)(Q.a.mark((function e(){var t,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("studentId")||void 0===L){e.next=8;break}return N.a.apps.length&&(N.a.app(),t=N.a.app().database()),e.next=4,ae(L,t);case 4:void 0===(n=e.sent)&&(qe.a.error("Group was not found, please check and try again."),q("Group was not found, please check and try again.")),w(n),d(L);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{marginTop:"3%",display:"flex",flexDirection:"row",justifyContent:"space-around"},children:void 0!=p&&void 0!==y&&void 0!==y.groupId&&void 0!==y.members?y.members.includes(parseInt(p))?Object(r.jsx)(Ae.a,{boxShadow:6,style:{margin:"0% 3%",width:"20%",backgroundColor:"white"},className:t.boxDesign,children:Object(r.jsxs)(fe.a,{children:[Object(r.jsxs)(ge.a,{children:[Object(r.jsx)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{backgroundColor:"#80808026",padding:"2%",overflow:"auto",minWidth:"250px !important"},children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{}),"Joining Group: #",y.groupId]})}),Object(r.jsx)("div",{children:"You are already in this group "})]}),Object(r.jsx)(ye.a,{style:{float:"left"},children:Object(r.jsx)("div",{styles:{marginTop:30,width:"80%"},children:Object(r.jsx)(b.a,{disabled:M,variant:"contained",style:{backgroundColor:"#DC3545",boxShadow:"5px 5px 5px 0 #bbb",color:"white"},onClick:function(){w([]),d(void 0),U("")},children:"Join a different group"})})})]})}):Object(r.jsx)(Ae.a,{boxShadow:6,style:{margin:"0% 3%",width:"24%",backgroundColor:"white"},className:t.boxDesign,children:Object(r.jsx)(fe.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(ge.a,{children:[Object(r.jsx)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{backgroundColor:"#80808026",padding:"2%",overflow:"auto",minWidth:"250px !important"},children:Object(r.jsx)("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center"},children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{}),"Joining Group: #",y.groupId]})})}),Object(r.jsx)("div",{children:"Members: "}),y.members.map((function(e,t){if(void 0!==e&&null!==e)return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ie.a,{})," #",e]})}))]}),Object(r.jsx)(ye.a,{style:{float:"left"},children:Object(r.jsx)("div",{styles:{marginTop:30,width:"80%"},children:Object(r.jsx)(b.a,{disabled:M,variant:"contained",style:{backgroundColor:"#DC3545",boxShadow:"5px 5px 5px 0 #bbb",color:"white"},onClick:function(){w([]),d(void 0),U("")},children:"Join a different group"})})}),Object(r.jsx)(ye.a,{style:{float:"right"},children:Object(r.jsx)("div",{styles:{marginTop:30,width:"80%"},children:Object(r.jsx)(b.a,{variant:"contained",color:"primary",style:{boxShadow:"5px 5px 5px 0 #bbb"},onClick:function(){!function(){if(void 0!==y&&void 0!==y.members){var e=y.members;null!=localStorage.getItem("studentId")&&(void 0!==e&&e.length>0?e.includes(parseInt(localStorage.getItem("studentId")))?qe.a.error("You are already in this group"):(e.push(parseInt(localStorage.getItem("studentId"))),_.ref("Groups/").child(l).child("members").set(e),qe.a.success("You have sucessfully joined the group"),D(!0)):console.log("here"))}}()},children:"Join Group"})})})]})})}):Object(r.jsx)("div",{children:Object(r.jsx)(Ae.a,{boxShadow:6,style:{backgroundColor:"white"},className:t.boxDesign,children:Object(r.jsxs)(fe.a,{style:{width:500},children:[Object(r.jsxs)(ge.a,{style:{display:"flex",flexDirection:"column",width:"100%",height:150},children:[Object(r.jsx)("div",{style:{marginBottom:10},children:"Enter Group ID or Join Group URL"}),Object(r.jsx)("input",{type:"text",placeholder:"Enter Group ID to join",style:{padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid black",backgroundColor:"initial !important"},value:B,onChange:function(e){q(""),U(e.target.value)},onKeyDown:function(e){try{var t=e.code;"Enter"!==t&&"NumpadEnter"!==t||M||re()}catch(n){}}}),Object(r.jsx)("div",{style:{marginTop:20,color:"red"},children:void 0!==J&&J.length>1?J:""})]}),Object(r.jsx)(ye.a,{style:{float:"right"},children:Object(r.jsx)("div",{styles:{marginTop:30,width:"80%"},children:Object(r.jsx)(b.a,{disabled:M,variant:"contained",color:"primary",onClick:function(){re()},children:"Find Group"})})})]})})})}),Object(r.jsx)("div",{children:C?Object(r.jsx)(T.a,{to:"/GroupManagement"}):null})]})},jn=n(281),bn=n(147),hn=n.n(bn),pn=n(290),xn=n(282),mn=n(280),On=n.p+"static/media/AddingMember.71d0669a.mp4",fn=n.p+"static/media/DeletingGroup.564c5911.mp4",gn=n.p+"static/media/ClickingWeeks.fd1591c6.mp4",vn=n.p+"static/media/NameChangeVideo.1b65d4d9.mp4";var yn=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],o=Object(we.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},buttonDesign:{boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.1)",color:"#000",padding:"10px 10px",backgroundColor:"#fbfbfb",border:"none",borderRadius:"45px",transition:"all 0.3s ease 0s",cursor:"pointer",outline:"none","&:hover":{boxShadow:"0px 10px 15px #ff5138",transform:"translateY(-7px)"}},sideNavBarActive:{borderBottom:"5px solid #ff5138 !important",backgroundColor:"#fbfbfb"},expandIconRoot:{boxShadow:"grey 5px 5px 5px 0px",transition:"all 0.3s ease 0s","&:hover":{boxShadow:"0px 10px 15px #ff5942",transform:"translateY(-2px)"}}}}))(),i=Object(a.useState)(!1),s=Object(j.a)(i,2),l=s[0],d=s[1],u=function(e){return function(t,n){d(!!n&&e)}};return Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{style:{textAlign:"center",marginTop:"30px",fontWeight:"600",fontSize:"2em",fontFamily:"Lato, sans-serif"},children:["Hello ",localStorage.getItem("studentName"),". How can we help you?"]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{style:{display:"-webkit-inline-box",marginLeft:"13%"},children:[Object(r.jsx)("div",{children:Object(r.jsxs)($t.a,{style:{display:"contents",width:"10%",boxShadow:"0 5px 10px 5px rgb(0 0 0 / 15%)",color:"black"},children:[Object(r.jsxs)(Zt.a,{selected:0===n,onClick:function(){return c(0)},classes:{root:o.buttonDesign,selected:o.sideNavBarActive},style:{marginTop:"10px",marginBottom:"10px"},children:[Object(r.jsx)(hn.a,{})," \xa0\xa0 About Profiles"]}),Object(r.jsx)(jn.a,{}),Object(r.jsxs)(Zt.a,{selected:1===n,onClick:function(){return c(1)},classes:{root:o.buttonDesign,selected:o.sideNavBarActive},style:{marginTop:"10px",marginBottom:"10px"},children:[Object(r.jsx)(en.a,{})," \xa0\xa0 About Timetables"]}),Object(r.jsx)(jn.a,{}),Object(r.jsxs)(Zt.a,{selected:2===n,onClick:function(){return c(2)},classes:{root:o.buttonDesign,selected:o.sideNavBarActive},style:{marginTop:"10px",marginBottom:"10px"},children:[Object(r.jsx)(nn.a,{})," \xa0\xa0 About Groups"]}),Object(r.jsx)(jn.a,{})]})}),Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsx)("div",{style:{width:"80%",paddingLeft:"20px"},children:Object(r.jsx)(ve.a,{children:function(e){switch(e){case 0:return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{style:{fontSize:"2em",paddingBottom:"10px"},children:"Your Profile"}),Object(r.jsxs)("div",{style:{padding:"20px 30px 30px",backgroundColor:"#f2f2f2"},children:[Object(r.jsx)("p",{style:{fontSize:"1.5em",paddingBottom:"10px"},children:"Profile Overview"}),Object(r.jsx)("p",{children:"Your MixTime Profile provides you with visibility of your basic account information. Each account, is uniquely assigned an ID when you enter your name for the first time. The user ID for your profile is essential, as that is what your group members can add and recognise you via."}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Depending on the groups you have joined, you can see each of the overlaying timetables from the ",Object(r.jsx)("b",{children:"Group Timetable"})," tab."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["You ",Object(r.jsx)("b",{children:"must"})," import your NUSMods timetable into MixTime, to see it on your ",Object(r.jsx)("b",{children:"Timetable Page"}),"."]}),Object(r.jsx)("br",{}),Object(r.jsxs)(pn.a,{expanded:"panel1"===l,onChange:u("panel1"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Your Account Details"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["Information on your ",Object(r.jsx)("b",{children:"student ID"}),"."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsx)(ve.a,{children:Object(r.jsxs)("p",{children:["Hello ",Object(r.jsx)("b",{children:localStorage.getItem("studentName")}),", your User ID is ",Object(r.jsx)("b",{children:localStorage.getItem("studentId")}),".",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"Your User ID is tied to your profile and you cannot change it. Other MixTime users can add you via this ID number."]})})})]}),Object(r.jsxs)(pn.a,{expanded:"panel2"===l,onChange:u("panel2"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Changing Names"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["How to ",Object(r.jsx)("b",{children:"change names"})," on MixTime."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("p",{children:"You can change your name as you like on MixTime."}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"change"})," your name, follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. On the top right of your screen, just beside your name, click on the ",Object(r.jsx)(Ne.a,{})," button."]}),Object(r.jsx)("li",{children:"2. Your name will change into a textbox."}),Object(r.jsx)("li",{children:"3. Click on it, and change it to anything you need."}),Object(r.jsxs)("li",{children:["4. When you are done, click on the ",Object(r.jsx)(Ee.a,{}),"."]}),Object(r.jsx)("li",{children:"5. Your name has been successfully changed. You should be able to see the update now. If you can't, try to refresh your browser."})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video steps ",Object(r.jsx)("b",{children:"here"}),":"]}),Object(r.jsx)("video",{controls:!0,muted:!0,style:{width:"70%"},children:Object(r.jsx)("source",{src:vn,type:"video/mp4"})},vn)]})})]})]})]});case 1:return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{style:{fontSize:"2em",paddingBottom:"10px"},children:"Your MixTime Timetable"}),Object(r.jsxs)("div",{style:{padding:"20px 30px 30px",backgroundColor:"#f2f2f2"},children:[Object(r.jsx)("p",{style:{fontSize:"1.5em",paddingBottom:"10px"},children:"Timetable Overview"}),Object(r.jsx)("p",{children:"Your MixTime Timetable is a display of your imported NUSMods timetable. It allows you to add non-curricular events. These events will be kept anonymous to other group members, and they will not be able to see its description."}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"Depending on your schedule, the timetable will be able to display weekend events, on top of your curricular events at NUS. Click on one of the tabs below to find out more."}),Object(r.jsx)("br",{}),Object(r.jsxs)(pn.a,{expanded:"panel1"===l,onChange:u("panel1"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Importing Your Timetable"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["Steps on how to ",Object(r.jsx)("b",{children:"import"})," your timetables from NUSMods."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["You ",Object(r.jsx)("b",{children:"must"})," import your NUSMods timetable into MixTime, to see it on your ",Object(r.jsx)("b",{children:"Timetable Page"}),"."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"import your timetable"}),", follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. Head over to"," ",Object(r.jsx)("u",{children:Object(r.jsx)("a",{href:"https://nusmods.com/",children:"NUSMods"})})," ","website."]}),Object(r.jsx)("li",{children:'2. You should see your own timetable. Click on the "Share/Sync" button.'}),Object(r.jsx)("li",{children:"3. Click on the Copy icon."}),Object(r.jsxs)("li",{children:["4. Paste your link into MixTime, under the"," ",Object(r.jsx)("b",{children:"Enter NUSMods Sharing URL"})," textbox."]}),Object(r.jsxs)("li",{children:["5. Head back to MixTime's website and navigate to the URL textbox on the ",Object(r.jsx)("b",{children:"My Timetable"})," page."]}),Object(r.jsxs)("li",{children:["6. Place the copied NUSMods URL, and click on the"," ",Object(r.jsx)("b",{children:"Update Timetable"})," button."]}),Object(r.jsx)("li",{children:'7. Your timetable has been successfully added. You can see it from the "My Timetable" tab.'})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video steps ",Object(r.jsx)("b",{children:"here"}),":"]}),Object(r.jsx)("video",{controls:!0,muted:!0,style:{width:"70%"},children:Object(r.jsx)("source",{src:St,type:"video/mp4"})},St)]})})]}),Object(r.jsxs)(pn.a,{expanded:"panel2"===l,onChange:u("panel2"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Adding New Events"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["You can ",Object(r.jsx)("b",{children:"add events"})," into your timetable."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["You can ",Object(r.jsx)("b",{children:"add an event"})," into your MixTime timetables, on top of your NUSMods timetable."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"add"})," new events, follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. In the ",Object(r.jsx)("b",{children:"My Timetable"})," page. On the right of your screen, click on the ",Object(r.jsx)("b",{children:"Create Event"})," button."]}),Object(r.jsx)("li",{children:"2. A prompt will appear. Enter the event details accordingly."}),Object(r.jsxs)("li",{children:["3. When you are done, click on the ",Object(r.jsx)("b",{children:"Submit"})," button."]}),Object(r.jsx)("li",{children:"4. Your name has been successfully changed. You should be able to see the update now. If you can't, try to refresh your browser."})]})]})})]}),Object(r.jsxs)(pn.a,{expanded:"panel3"===l,onChange:u("panel3"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Navigating The Weeks"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["You can go through different ",Object(r.jsx)("b",{children:"weeks"})," to check your schedule."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["On MixTime, we follow the ",Object(r.jsx)("b",{children:"same semestral periods"})," as NUS. You can go through each week by clicking on the week number."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Each week should display your timetable schedules, based on your imported timetable. If you cannot see it, refer to"," ",Object(r.jsx)("b",{children:"Importing Your Timetable"})," tab."]}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"Note that week 7 is also the recess week, hence there should be no lessons appearing on that page. To get to each page, simply click on the corresponding page number."}),Object(r.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,style:{width:"70%"},children:Object(r.jsx)("source",{src:gn,type:"video/mp4"})},gn)]})})]}),Object(r.jsx)("br",{})]})]});case 2:return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{style:{fontSize:"2em",paddingBottom:"10px"},children:"Your MixTime Groups"}),Object(r.jsxs)("div",{style:{padding:"20px 30px 30px",backgroundColor:"#f2f2f2"},children:[Object(r.jsx)("p",{style:{fontSize:"1.5em",paddingBottom:"10px"},children:"Manage Groups Overview"}),Object(r.jsx)("p",{children:"In MixTime, you are able to form groups. These groups will allow you to see what are some timeslots that your group members are unavailable. You can plan for meetings based on the free timeslots."}),Object(r.jsx)("br",{}),Object(r.jsx)("p",{children:"Additionally, you can manage your groups, remove members, add them, or delete the group entirely. Click on one of the tabs below to find out more."}),Object(r.jsx)("br",{}),Object(r.jsxs)(pn.a,{expanded:"panel1"===l,onChange:u("panel1"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Creating A Group"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["Steps on how to ",Object(r.jsx)("b",{children:"create"})," groups."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"create a group"}),", follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. Head over to the ",Object(r.jsx)("b",{children:"Manage Groups"})," page."]}),Object(r.jsx)("li",{children:"2. Click on the big (+) icon."}),Object(r.jsxs)("li",{children:["3. Enter your ",Object(r.jsx)("b",{children:"Group Name"}),"."]}),Object(r.jsx)("li",{children:"4. Enter number of group members (I.e., 5 members, this includes you)."}),Object(r.jsx)("li",{children:"5. Enter each group member's ID. Their IDs are found at the top right of their own screens."}),Object(r.jsxs)("li",{children:["6. When you are done, click ",Object(r.jsx)("b",{children:"OK"}),". You should see a new group appearing on the page. Wait for awhile or refresh if you don't see any."]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video steps ",Object(r.jsx)("b",{children:"here"}),":"]}),Object(r.jsx)("video",{controls:!0,muted:!0,style:{width:"70%"},children:Object(r.jsx)("source",{src:vt,type:"video/mp4"})},vt)]})})]}),Object(r.jsxs)(pn.a,{expanded:"panel2"===l,onChange:u("panel2"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Adding Group Members"}),Object(r.jsx)(ve.a,{className:o.secondaryHeading,children:"Adding members to your MixTime group."})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["You can ",Object(r.jsx)("b",{children:"add"})," other MixTime users into the groups you have formed."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"add other members"}),", follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. Head over to the ",Object(r.jsx)("b",{children:"Manage Groups"})," page."]}),Object(r.jsxs)("li",{children:["2. Click on the ",Object(r.jsx)("b",{children:"Add Member"})," button, in the group that you wish to add your members."]}),Object(r.jsxs)("li",{children:["3. A dialog will appear at the top of your screen. Enter your member's ",Object(r.jsx)("b",{children:"User ID"}),"."]}),Object(r.jsxs)("li",{children:["4. When you are done, click on ",Object(r.jsx)("b",{children:"OK"}),". You should see your member's name in the corresponding group card. Wait for awhile or refresh if you don't see any."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video steps ",Object(r.jsx)("b",{children:"here"}),":"]}),Object(r.jsx)("video",{controls:!0,muted:!0,style:{width:"70%"},children:Object(r.jsx)("source",{src:On,type:"video/mp4"})},On)]})]})})]}),Object(r.jsxs)(pn.a,{expanded:"panel3"===l,onChange:u("panel3"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Editing Your Group Name"}),Object(r.jsx)(ve.a,{className:o.secondaryHeading,children:"Rename your group based on your preferences."})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["You can ",Object(r.jsx)("b",{children:"only"})," change your group name on the"," ",Object(r.jsx)("b",{children:"Manage Groups page"}),"."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"change your group name"}),", follow these steps:"]}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. Head over to the ",Object(r.jsx)("b",{children:"Manage Groups"})," page."]}),Object(r.jsxs)("li",{children:["2. Click on the ",Object(r.jsx)(Ne.a,{})," icon."]}),Object(r.jsxs)("li",{children:["3. Enter your ",Object(r.jsx)("b",{children:"desired Group Name"}),"."]}),Object(r.jsxs)("li",{children:["4. When you are done, click on the ",Object(r.jsx)(Ee.a,{}),". You should see your new group name. Wait for awhile or refresh if you don't see any."]})]})]})})]}),Object(r.jsxs)(pn.a,{expanded:"panel4"===l,onChange:u("panel4"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Leaving Your Group"}),Object(r.jsxs)(ve.a,{className:o.secondaryHeading,children:["You can ",Object(r.jsx)("b",{children:"leave a MixTime group"})," when you no longer need it."]})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["When you leave a MixTime group, ",Object(r.jsx)("b",{children:"only"})," you will be"," ",Object(r.jsx)("b",{children:"removed"})," from the group. Everyone else inside the group will still remain there."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"leave a group"}),", follow these steps:"]}),Object(r.jsx)("br",{}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. Head over to the ",Object(r.jsx)("b",{children:"Manage Groups"})," page."]}),Object(r.jsxs)("li",{children:["2. Click on the ",Object(r.jsx)("b",{children:" Leave Group "})," button."]}),Object(r.jsxs)("li",{children:["3. A ",Object(r.jsx)("b",{children:"prompt"})," will appear on the top of your screen."]}),Object(r.jsxs)("li",{children:["4. Click on ",Object(r.jsx)("b",{children:"OK"})," if you really want to leave group."]}),Object(r.jsx)("li",{children:"5. You will see a message on the top right of your screen. This will tell you whether you have left the group or not."})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["If you have ",Object(r.jsx)("b",{children:"left a group by accident"}),", simply tell your group members to add you back in via your User ID (",localStorage.getItem("studentId"),")."]})]})})]}),Object(r.jsxs)(pn.a,{expanded:"panel5"===l,onChange:u("panel5"),children:[Object(r.jsxs)(mn.a,{className:o.expandIconRoot,expandIcon:Object(r.jsx)(ze.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(r.jsx)(ve.a,{className:o.heading,children:"Deleting A Group"}),Object(r.jsx)(ve.a,{className:o.secondaryHeading,children:"Deleting a MixTime group which you don't need."})]}),Object(r.jsx)(jn.a,{}),Object(r.jsx)(xn.a,{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("p",{children:["When you delete a MixTime group, it is a permanent action. The group will ",Object(r.jsx)("b",{children:"no longer"})," be available to anyone after deletion."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["You ",Object(r.jsx)("b",{children:"must"})," remove everyone from the group first, before being able to delete the group."]}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["To ",Object(r.jsx)("b",{children:"delete a group"}),", follow these steps:"]}),Object(r.jsx)("br",{}),Object(r.jsxs)("ol",{children:[Object(r.jsxs)("li",{children:["1. Head over to the ",Object(r.jsx)("b",{children:"Manage Groups"})," page."]}),Object(r.jsxs)("li",{children:["2. Click on the ",Object(r.jsx)(Ue.a,{})," icon."]}),Object(r.jsxs)("li",{children:["3. A ",Object(r.jsx)("b",{children:"prompt"})," will appear on the top of your screen."]}),Object(r.jsxs)("li",{children:["4. Click on ",Object(r.jsx)("b",{children:"OK"})," if you really want to delete the group."]}),Object(r.jsx)("li",{children:"5. You will see a message on the top right of your screen. This will tell you whether the deletion is successful."}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["See video steps ",Object(r.jsx)("b",{children:"here"}),":"]}),Object(r.jsx)("video",{controls:!0,muted:!0,style:{width:"70%"},children:Object(r.jsx)("source",{src:fn,type:"video/mp4"})},fn)]})]})})]})]})]});default:return Object(r.jsxs)("div",{children:[Object(r.jsx)("br",{}),Object(r.jsx)("b",{children:"Click"})," on any tabs from the left, to find what you need."]})}}(n)})})]})]})},wn=n(148),Sn=n.n(wn);qe.a.configure();var In=Object(we.a)({root:{margin:"2%",display:"inline"},paper:{backgroundColor:"#FFF"},media:{height:140},cardColumn:{padding:"10px"},boxDesign:{transition:"all 0.3s ease 0s","&:hover":{boxShadow:"0px 10px 15px #ff5942",transform:"translateY(-7px)"}}});var kn=function(e){var t=I(),n=In(),c=Object(a.useState)(localStorage.getItem("studentId")),o=Object(j.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(localStorage.getItem("studentName")),d=Object(j.a)(l,2),u=(d[0],d[1]),h=function(e){t.ref("Students/").child(localStorage.getItem("studentId")).child("name").set(e),B(R+1),localStorage.setItem("studentName",e)},p=Object(a.useState)([]),x=Object(j.a)(p,2),m=x[0],O=x[1],f=Object(a.useState)(),g=(Object(j.a)(f,2)[1],Object(a.useState)([])),v=Object(j.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)([]),k=Object(j.a)(S,2),N=k[0],D=k[1],E=function(e){var t="";return N.forEach((function(n){parseInt(n.key)===parseInt(e)&&(t=n.val().name)})),t},G=function(e,n){if(parseInt(n)==parseInt(localStorage.getItem("studentId"))){if(!window.confirm("Are you sure you want to leave the group? Leaving a group means all members will stay, but only you are removed.\n\nYou will not be able to view the group related information anymore."))return;(r=t.ref("Groups/".concat(e,"/members/"))).once("value").then((function(e){e.forEach((function(e){e.val()==n&&r.child(e.key).remove()}))}))}else{var r;if(!window.confirm("Are you sure you want to remove ".concat(E(n)," (#").concat(n,") from the group?\n\nThe member will no longer be able to see the group related information.")))return;(r=t.ref("Groups/".concat(e,"/members/"))).once("value").then((function(e){e.forEach((function(e){e.val()==n&&r.child(e.key).remove()}))}))}parseInt(n)==parseInt(localStorage.getItem("studentId"))?qe.a.success("You have left group"+e+" successfully."):qe.a.success("Member ID: "+n+" has been removed from Group ID: "+e+" successfully."),B(R+1)},M=function(e){w([]);for(var t=0;t<m.length;t++)if(m[t].groupId===e)for(var n=m[t].members,r=0;r<n.length;r++)y.push(n[r]);w([])},A=Object(a.useState)(0),Y=Object(j.a)(A,2),R=Y[0],B=Y[1];Object(a.useEffect)((function(){(B(0),null==localStorage.getItem("studentId"))?function(e){t.ref("Students/").orderByKey().once("value").then((function(t){t.forEach((function(e){var t=e.key;s(parseInt(t)+1),localStorage.setItem("studentId",parseInt(t)+1)})),h(e)}))}(prompt("Hi! Seems like this is the first time you visited MixTime. \nPlease enter your name and we'll tag it into your timetable.")):(localStorage.getItem("studentId"),t.ref("Students/".concat(localStorage.getItem("studentId"),"/name")).once("value").then((function(e){u(e.val())})),function(){O([]);var e=[];t.ref("Groups/").once("value").then((function(t){var n=t.val();for(var r in n){var a=n[r];null!=localStorage.getItem("studentId")&&void 0!==a&&void 0!==a.members&&Object.values(a.members).forEach((function(t){t==localStorage.getItem("studentId")&&e.push(a)}))}O(e)}))}(),D([]),t.ref("Students/").once("value").then((function(e){D(e)})),M())}),[R]);var U=Object(a.useState)(),F=Object(j.a)(U,2),P=F[0],L=F[1];Object(a.useEffect)((function(){for(var e=[],t=0;t<m.length;t++)e.push({disable:!0,groupId:m[t].groupId,val:m[t].groupName,readOnly:!0,allowUndo:!1});L(e)}),[m]);var z=Object(a.useState)(),W=Object(j.a)(z,2),H=W[0],J=W[1];function q(e){var t=e.target.value,n=Object(K.a)(P);n[H]=Object(_.a)(Object(_.a)({},n[H]),{},{disable:!1,val:t,allowUndo:!1}),L(n)}var V=Object(a.useState)(!0),Q=Object(j.a)(V,2),$=Q[0],Z=Q[1],X=Object(a.useState)([]),ee=Object(j.a)(X,2),te=ee[0],ne=ee[1],re=new Set,ae=Object(a.useState)([]),ce=Object(j.a)(ae,2),oe=ce[0],ie=ce[1];Object(a.useEffect)((function(){!function(){if(t.ref("Students/".concat(localStorage.getItem("studentId"),"/archivedGroups")).once("value").then((function(e){ie(e.val())})),void 0!==oe&&0!==oe.length)for(var e=0;e<m.length;e++)for(var n=0;n<oe.length;n++)m[e].groupId!==oe[e]&&(m.includes(oe[e])||(te.push(m[e].groupId),re.add(m[e].groupId)));else for(e=0;e<m.length;e++)te.push(m[e].groupId),re.add(m[e].groupId);ne(Array.from(re))}()}),[]);var se=Object(T.g)();return Object(r.jsx)(Oe.a,{className:n.paper,square:!0,children:void 0!==P&&P.length===m.length?Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",wigth:"100%",padding:"2%"},children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{float:"left"},children:["You are currently enrolled in ",m.length," groups."]}),Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{style:{float:"right"},children:[Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"Click here to view active groups"}),children:Object(r.jsxs)(b.a,{style:{boxShadow:"5px 5px 5px 0px grey",width:"fit-content"},variant:"contained",color:"primary",onClick:function(){se.push("GroupManagement")},children:[Object(r.jsx)(Sn.a,{})," \xa0 View Active Groups"]})}),"\xa0 \xa0",Object(r.jsx)(Je.a,{title:Object(r.jsx)("em",{children:"Click here to minimize or expand all your groups"}),children:Object(r.jsxs)(b.a,{style:{boxShadow:"5px 5px 5px 0px grey",width:"fit-content"},variant:"contained",color:"primary",onClick:function(){return Z(!$)},children:[$?Object(r.jsx)(He.a,{}):Object(r.jsx)(ze.a,{}),$?"Minimize All Groups":"Expand All Groups"]})})]})]}),Object(r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",margin:"3% 2% 0% 15%"},children:m.map((function(e,a){return Object(r.jsx)("div",{style:{padding:"0.5% 0.5%"},children:void 0!==oe&&null!==oe&&oe.includes(e.groupId)?Object(r.jsxs)(fe.a,{className:n.root,style:{display:"table",width:"100%"},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{className:"cardRow",children:[Object(r.jsxs)(ge.a,{className:n.cardColumn,children:[Object(r.jsxs)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{backgroundColor:"#80808026",padding:"2%",overflow:"auto"},children:["#",P[a].groupId," -"," ",Object(r.jsx)("input",{type:"text",disabled:P[a].disable,value:P[a].val,onChange:q,readOnly:P[a].readOnly,size:P[a].val.length-2,style:!1===P[a].readOnly?{padding:"4px 4px 4px 4px",borderRadius:"4px",outline:"none",border:"1px solid #da337a",boxShadow:"0px 0px 8px #da337a",backgroundColor:"initial !important"}:{width:"50%",backgroundColor:"initial"}}),!0===P[a].readOnly?Object(r.jsx)(C.b,{onClick:function(){!function(e){var t=Object(K.a)(P);t[e]=Object(_.a)(Object(_.a)({},t[e]),{},{disable:!1,readOnly:!1,allowUndo:!1}),L(t),J(e),localStorage.setItem("originalGroupName",t[e].val)}(a)},children:Object(r.jsx)("span",{style:{color:"black",float:"right"},children:Object(r.jsx)(Ne.a,{})})}):Object(r.jsx)(C.b,{onClick:function(){!function(e){var t=Object(K.a)(P);t[e]=Object(_.a)(Object(_.a)({},t[e]),{},{disable:!0,readOnly:!0,allowUndo:!0}),L(t),P[e].val!==localStorage.getItem("originalGroupName")&&qe.a.success("Group name has been updated successfully.")}(a)},children:Object(r.jsx)("span",{style:{color:"black",float:"right"},children:Object(r.jsx)(Ee.a,{})})}),!0===P[a].allowUndo&&localStorage.getItem("originalGroupName")!==P[a].val?Object(r.jsx)("span",{style:{float:"right"},children:Object(r.jsx)(C.b,{onClick:function(){!function(e){B(1);var t=Object(K.a)(P);t[e]=Object(_.a)(Object(_.a)({},t[e]),{},{disable:!0,readOnly:!0,allowUndo:!1,val:localStorage.getItem("originalGroupName")}),P[e].val===localStorage.getItem("originalGroupName")?qe.a.success("Undo change cancelled."):qe.a.success("You have successfully undo changes on group rename."),localStorage.setItem("originalGroupName",null),L(t)}(a)},children:Object(r.jsx)(Re.a,{})})}):Object(r.jsx)("span",{})]}),$&&Object(r.jsxs)("div",{children:["Other Members:",Object.values(e.members).map((function(t,n){return Object(r.jsx)("div",{children:t!=localStorage.getItem("studentId")?Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{float:"left"},children:[Object(r.jsx)(Ie.a,{})," #",t+", "+E(t)]}),"      ",Object(r.jsx)("div",{style:{float:"right"},children:Object(r.jsx)(C.b,{style:{width:"fit-content",float:"right",display:"inline",color:"#DC3545"},onClick:function(){return G(e.groupId,t)},children:Object(r.jsx)("abbr",{title:"Remove member",children:Object(r.jsx)(Ce.a,{})})})}),Object(r.jsx)("div",{style:{clear:"both"}})]}):Object(r.jsx)("div",{})})})),e.members.length>2?Object(r.jsx)(b.a,{variant:"contained",style:{backgroundColor:"#DC3545",color:"white",float:"right"},onClick:function(){return n=e.groupId,y.push(parseInt(localStorage.getItem("studentId"))),w(y),t.ref("Groups/").child(n).child("members").set(y),void(window.confirm("Are you sure you want to remove all other members from Group ID: #"+n+"?")?(qe.a.success("All other group members have been removed successfully."),B(R+1)):qe.a.success("Removal of all members has been cancelled."));var n},children:"Remove All Members"}):Object(r.jsx)("div",{})]})]}),$&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{padding:"2%"},children:[Object(r.jsx)("div",{children:"Join Group URL:"}),Object(r.jsxs)("div",{onClick:function(){},children:[console.log(window.location.host),"http://",window.location.host,"/JoinGroup/",e.groupId]})]}),Object(r.jsx)("div",{style:{clear:"both"}}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ye.a,{style:{float:"left"},children:Object(r.jsx)(b.a,{variant:"contained",color:"secondary",style:e.members.length>1?{float:"left",minWidth:"20px",backgroundColor:"green",opacity:"0.4"}:{float:"left",minWidth:"20px",backgroundColor:"green",opacity:"1",boxShadow:"5px 5px 5px 0 #bbb"},onClick:function(){return n=e.groupId,void((r=e.members.length)>1?qe.a.warning("You are not allowed to delete a group with members inside."):1===r&&(window.confirm("Are you sure you want to delete the group?\nYou cannot undo this.")?(t.ref("Groups/").child(n).remove(),qe.a.success("You have successfully deleted the group."),B(R+1)):qe.a.success("Deletion of group is cancelled.")));var n,r},disabled:e.members.length>1,children:Object(r.jsx)(Ue.a,{})})}),Object(r.jsxs)(ye.a,{style:{},children:[Object(r.jsx)(b.a,{variant:"contained",style:{backgroundColor:"#DC3545",color:"white"},onClick:function(){return G(e.groupId,localStorage.getItem("studentId"))},children:"Leave Group"}),Object(r.jsx)(b.a,{variant:"contained",color:"primary",style:{},onClick:function(){return function(e){for(var n=0;n<m.length;n++)if(m[n].groupId===e)for(var r=m[n].members,a=0;a<r.length;a++)void 0!==r[a]&&y.push(r[a]);w(y);var c=prompt("Enter member ID.\nNote: You do not need to add your own ID. \nYour ID is displayed on the top right hand corner beside your name.");null!=c?parseInt(c)!=parseInt(i)?void 0!==E(c)?(y.push(parseInt(c)),t.ref("Groups/").child(e).child("members").set(y),qe.a.success("Member ID: "+c+" has been added to Group ID: "+e+" successfully."),M(e),B(R+1)):qe.a.error("There is no record of this member."):qe.a.error("You are not allowed to add your own Student ID"):qe.a.success("Member addition has been cancelled.")}(e.groupId)},children:"Add Member"})]})]})]})]})]}),Object(r.jsx)("div",{})]}):Object(r.jsx)("div",{})})}))})]}):Object(r.jsx)("div",{})})},Cn=function(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){console.log("forceRefresh",n)}),[n]);var o=function(){c((function(e){return e+1}))};return N.a.database(),Object(r.jsx)(C.a,{children:Object(r.jsxs)("div",{style:{height:"100vh"},children:[Object(r.jsx)(ln,{forceRefresh:n}),Object(r.jsx)(F,{children:Object(r.jsx)(be,{children:Object(r.jsx)(me,{children:Object(r.jsx)(q,{children:Object(r.jsxs)(T.d,{children:[Object(r.jsx)(T.b,{path:"/",exact:!0,children:Object(r.jsx)(Kt,{triggerLayoutForceRefresh:function(){o()}})}),Object(r.jsx)(T.b,{path:"/GroupManagement",exact:!0,children:Object(r.jsx)(et,{})}),Object(r.jsx)(T.b,{path:"/GroupTimetable",exact:!0,component:_t}),Object(r.jsx)(T.b,{path:"/UserProfile",exact:!0,component:ot}),Object(r.jsx)(T.b,{path:"/Timetable",exact:!0,component:Kt}),Object(r.jsx)(T.b,{path:"/JoinGroup",children:Object(r.jsx)(un,{triggerLayoutForceRefresh:function(){o()}})}),Object(r.jsx)(T.b,{path:"/TutorialPage",exact:!0,component:yn}),Object(r.jsx)(T.b,{path:"/ViewArchivedGroups",exact:!0,component:kn})]})})})})})]})})};n(212);var Tn=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(g,{children:Object(r.jsx)(k,{children:Object(r.jsx)(Cn,{})})})})},Nn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,297)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Tn,{})}),document.getElementById("root")),Nn()},92:function(e,t,n){}},[[213,1,2]]]);